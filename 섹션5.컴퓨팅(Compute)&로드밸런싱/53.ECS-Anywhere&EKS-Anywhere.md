# ☁️ AWS 컨테이너 서비스의 온프레미스 통합 전략

본 강의에서는 AWS의 컨테이너 관리 환경을 기업의 자체 데이터센터(온프레미스)까지 확장하는 두 가지 핵심 서비스인 **Amazon ECS Anywhere**와 **Amazon EKS Anywhere**에 대해 다룹니다.

---

## 1. Amazon ECS Anywhere

고객이 관리하는 인프라(온프레미스 서버, VM 등)에서 ECS 태스크를 실행하고 관리할 수 있게 해주는 서비스입니다.

### 🔹 주요 특징 및 구성

* **하이브리드 관리:** AWS 리전의 **ECS Control Plane**을 그대로 활용하여 온프레미스 컨테이너를 제어합니다.
* **필수 설치 요소:**
* **ECS Container Agent:** 컨테이너 실행 및 클러스터 등록을 담당합니다.
* **SSM Agent:** AWS Systems Manager에 서버를 등록하여 제어권을 확보합니다.


* **실행 타입:** 태스크 및 서비스 정의 시 실행 타입을 **`EXTERNAL`**로 지정해야 합니다.
* **연결성:** AWS 콘솔에서 온프레미스 컨테이너를 직접 실행/관리할 수 있으며, 이를 위해 AWS 리전과 온프레미스 간의 **안정적인 인터넷 연결**이 필수적입니다.

### 🔹 주요 활용 사례

* **컴플라이언스 및 규제:** 데이터를 반드시 로컬에 두어야 하는 경우.
* **낮은 레이턴시:** 데이터 소스 근처에서 처리가 필요한 경우.
* **특수 작업:** 온프레미스 장비를 활용한 머신러닝, 비디오/데이터 처리 등.

---

## 2. Amazon EKS Anywhere

AWS 외부(온프레미스)에서 Kubernetes 클러스터를 생성하고 운영할 수 있도록 지원하는 서비스입니다.

### 🔹 핵심 개념: Amazon EKS Distro

* Amazon EKS에서 사용하는 것과 동일한 오픈소스 Kubernetes 배포판입니다.
* **장점:** AWS와 동일한 보안 패치 및 업데이트를 제공받아 써드파티 툴 유지보수 비용을 절약할 수 있습니다.

### 🔹 운영 모드 및 연결성

EKS Anywhere는 연결 상태에 따라 크게 두 가지 방식으로 운영됩니다.

| 구분 | 설명 | 특징 |
| --- | --- | --- |
| **연결 모드 (Connected)** | **EKS Connector**를 사용하여 AWS 콘솔과 연결 | AWS 콘솔에서 온프레미스 클러스터 가시성 확보 및 관리 가능 |
| **비접속 모드 (Disconnected)** | AWS 연결 없이 로컬에서 독립적으로 운영 | 인터넷 연결이 제한된 폐쇄망 환경에서 유용, 오픈소스 툴로 관리 |

### 🔹 설치 및 관리

* **EKS Anywhere 인스톨러:** 온프레미스에서 클러스터를 시작할 때 사용합니다.
* **독립성:** ECS Anywhere와 달리, AWS에 연결되지 않은 상태에서도 클러스터 작동이 가능합니다.

---

## 3. 요약 및 비교

| 항목 | Amazon ECS Anywhere | Amazon EKS Anywhere |
| --- | --- | --- |
| **관리 주체** | AWS 관리형 (Control Plane이 클라우드에 있음) | 고객 관리형 (온프레미스에 클러스터 생성 가능) |
| **필수 에이전트** | ECS Agent, SSM Agent | EKS Distro, EKS Connector (선택) |
| **인터넷 연결** | **필수** (Control Plane 연결용) | **선택** (완전 비접속 모드 지원) |
| **주요 장점** | 기존 ECS의 사용 편의성을 로컬로 확장 | AWS와 동일한 K8s 환경을 로컬에 구축 |
