## 1. Route 53 기본 레코드 유형 (Record Types)

| 유형 | 설명 | 주요 특징 |
| --- | --- | --- |
| **A** | 호스트 이름을 **IPv4** 주소로 매핑 | 가장 기본적인 레코드 |
| **AAAA** | 호스트 이름을 **IPv6** 주소로 매핑 | 차세대 IP 주소 체계용 |
| **CNAME** | 호스트 이름을 **다른 호스트 이름**으로 매핑 | **Zone Apex(example.com)**에는 생성 불가 |
| **NS** | 호스트 영역(Hosted Zone)의 **이름 서버** | 트래픽 라우팅 방식을 제어하는 서버 정보 |

### 💡 Alias Record (별칭 레코드)

* **특징:** AWS 리소스(ELB, CloudFront, S3 등)를 가리키는 특수 레코드입니다.
* **장점:** * **Zone Apex(루트 도메인)**에서 사용 가능 (CNAME의 한계 극복).
* 무료이며, 대상 리소스의 상태 변화를 인식하는 네이티브 상태 확인을 제공합니다.
* **주의:** EC2의 기본 DNS 이름에는 Alias를 설정할 수 없습니다.



---

## 2. TTL (Time To Live) 및 캐싱

* **개념:** DNS 응답이 클라이언트나 리졸버에 저장(캐싱)되는 시간입니다.
* **높은 TTL (예: 24시간):** Route 53 트래픽 감소(비용 절감), 하지만 레코드 변경 시 전파 속도가 느림.
* **낮은 TTL (예: 60초):** 변경 사항이 빠르게 반영되나, 쿼리 횟수 증가로 비용 발생.
* **중요:** **Alias 레코드를 제외**한 모든 레코드에는 TTL 설정이 필수입니다.

---

## 3. 라우팅 정책 (Routing Policies)

Route 53의 핵심은 상황에 맞는 라우팅 정책을 선택하는 것입니다.

### ① Simple (단순 라우팅)

* 가장 기본적인 방식. 하나의 레코드에 여러 IP를 지정하면 무작위로 응답합니다.
* **주의:** **상태 확인(Health Check)과 연계할 수 없습니다.**

### ② Weighted (가중치 라우팅)

* 각 리소스에 가중치(비율)를 부여하여 트래픽을 분산합니다. (예: 70% vs 20% vs 10%)
* **용도:** 리전 간 로드 밸런싱, 신규 버전 앱 테스트(Canary 배포).

### ③ Latency-based (지연 시간 기반 라우팅)

* 사용자와 리전 간의 네트워크 지연 시간(Latency)이 가장 짧은 곳으로 유도합니다.
* 사용자 경험(속도)이 최우선일 때 사용합니다.

### ④ Failover (장애 조치 라우팅)

* **Active-Passive** 구성에 사용합니다.
* Primary 리소스 장애 시, 상태 확인을 통해 Secondary(DR용) 리소스로 자동 전환합니다.

### ⑤ Geolocation (지리적 라우팅)

* 사용자의 **실제 위치(국가, 대륙, 주)**를 기준으로 라우팅합니다.
* 콘텐츠 로컬라이징(언어 설정)이나 배포 지역 제한에 유용합니다. 일치하는 위치가 없을 때를 대비해 **Default 레코드**가 필요합니다.

### ⑥ Geoproximity (지리 근접 라우팅)

* 리소스의 위치와 사용자의 위치를 계산하여 라우팅합니다.
* **Bias(편향치)** 값을 조절(-99~99)하여 특정 리전이 커버하는 지리적 영역을 인위적으로 확장하거나 축소할 수 있습니다.
* **Traffic Flow** 기능을 통해서만 설정 가능합니다.

### ⑦ Multi-Value Answer (다중 값 응답 라우팅)

* 여러 리소스를 등록하고 최대 8개의 건전한 레코드를 반환합니다.
* Simple 라우팅과 비슷해 보이지만, **상태 확인을 통해 "살아있는" 리소스만 반환**한다는 점이 다릅니다. (ELB의 완전한 대체재는 아님)

### ⑧ IP-based (IP 기반 라우팅)

* 클라이언트의 **IP 서브넷(CIDR 목록)**을 기준으로 라우팅합니다.
* 특정 ISP 사용자나 특정 네트워크 대역의 트래픽을 특정 엔드포인트로 보낼 때 사용하며, 성능 최적화 및 비용 절감에 유리합니다.

---

## 4. 고급 기능: Traffic Flow

* 복잡한 라우팅 의사결정 트리를 **시각적 편집기**를 통해 쉽게 관리할 수 있는 기능입니다.
* 생성된 정책은 버전 관리가 가능하며, 다른 호스팅 영역에도 재사용할 수 있습니다.

---
