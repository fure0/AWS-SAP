# 🌐 Amazon EventBridge 완벽 정리

**Amazon EventBridge**는 이전에 **CloudWatch Events**로 불리던 서비스로, 애플리케이션 간의 데이터를 연결하는 **서버리스 이벤트 버스**입니다.

---

## 1. 주요 기능 및 특징

### 📅 스케줄링 및 Cron 작업

* **작업 예약:** 특정 시간 간격(예: 1시간마다) 또는 특정 시각(예: 매월 첫 월요일 8시)에 이벤트를 발생시킵니다.
* **활용:** 람다(Lambda) 함수를 트리거하여 정기적인 스크립트 실행이나 유지보수 작업을 수행할 수 있습니다.

### 🔍 이벤트 패턴 반응 (Event Patterns)

* **상태 변화 감지:** 서비스에서 일어나는 특정 동작에 반응하는 규칙을 설정합니다.
* **보안 활용:** IAM 루트 사용자가 콘솔에 로그인하는 이벤트를 감지하여 SNS를 통해 즉시 이메일 알림을 보낼 수 있습니다.

---

## 2. 이벤트 버스(Event Bus)의 3가지 유형

EventBridge는 이벤트를 수신하는 통로인 '이벤트 버스'를 세 가지 형태로 제공합니다.

| 유형 | 설명 | 주요 출처 |
| --- | --- | --- |
| **기본 이벤트 버스 (Default)** | AWS 서비스에서 발생하는 이벤트를 처리 | EC2 상태 변경, S3 객체 업로드, Trusted Advisor 알림 등 |
| **파트너 이벤트 버스 (Partner)** | 제3자 SaaS 애플리케이션의 이벤트를 수신 | Zendesk, Datadog, Auth0 등 |
| **사용자 지정 이벤트 버스 (Custom)** | 자체 애플리케이션에서 생성한 이벤트를 수신 | 자체 개발한 마이크로서비스 등 |

---

## 3. 이벤트 흐름: 소스에서 목적지까지

### 📤 이벤트 소스 (Sources)

* **AWS 서비스:** EC2, S3, CodeBuild 등.
* **CloudTrail 통합:** 계정 내의 모든 API 호출을 가로채서 반응 가능.
* **사용자 정의:** 직접 `PutEvents` API를 호출하여 전송.

### 📥 이벤트 목적지 (Targets)

EventBridge는 수신한 JSON 형태의 이벤트를 필터링하여 다양한 곳으로 보냅니다.

* **컴퓨팅:** Lambda, AWS Batch, ECS Task.
* **메시징:** SQS, SNS, Kinesis Data Streams.
* **워크플로우:** Step Functions, CodePipeline.
* **운영:** SSM Automation, EC2 작업(중지/재시작).

---

## 4. 고급 기능 (Advanced Features)

### 📂 이벤트 보관 및 재생 (Archive & Replay)

* **보관:** 발생한 이벤트를 무기한 또는 설정한 기간 동안 보관할 수 있습니다.
* **재생:** 과거의 이벤트를 다시 실행할 수 있습니다.
  * *활용:* 람다 함수의 버그를 수정한 후, 보관된 이벤트를 재생하여 정상 작동 여부를 디버깅하거나 데이터를 복구할 때 매우 유용합니다.



### 📋 스케줄 레지스트리 (Schema Registry)

* **자동 추론:** 버스로 들어오는 이벤트의 구조(JSON)를 분석하여 스케줄을 자동으로 생성합니다.
* **코드 생성:** 스키마를 바탕으로 Java, Python, TypeScript 등의 코드를 다운로드하여 애플리케이션 개발에 즉시 활용할 수 있습니다.

### 🔐 리소스 기반 정책 (Resource-based Policy)

* **권한 관리:** 특정 이벤트 버스에 접근할 수 있는 권한을 제어합니다.
* **교차 계정 지원:** 다른 AWS 계정이나 다른 리전에서 보내는 이벤트를 허용하거나 거부할 수 있습니다.
* **중앙 집중화:** AWS Organizations 내의 여러 계정에서 발생하는 모든 이벤트를 **하나의 중앙 계정 이벤트 버스**로 집계하여 관리할 수 있습니다.

---

> **💡 요약:** EventBridge는 AWS 내부 서비스, 외부 SaaS, 그리고 사용자 앱을 연결하는 '신경망' 역할을 합니다. 특히 **교차 계정 이벤트 통합**과 **이벤트 재생** 기능은 복잡한 엔터프라이즈 아키텍처에서 매우 중요한 요소입니다.