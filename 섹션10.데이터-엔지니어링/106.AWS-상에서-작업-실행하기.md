## 🛠️ AWS 작업 실행 및 스케줄링 전략 가이드

AWS 환경에서 특정 작업(Job)을 실행하거나 자동화할 때는 요구사항(실행 시간, 데이터 규모, 서버리스 여부 등)에 따라 적절한 아키텍처를 선택해야 합니다.

### 1. EC2 + CRON (비권장 전략)

가장 전통적인 방식이지만, 클라우드 네이티브 환경에서는 권장되지 않습니다.

* **작동 방식:** EC2 인스턴스를 상시 가동하고 OS 레벨의 CRON 기능을 사용하여 작업을 예약 실행.
* **장점:** 기존 온프레미스 방식과 동일하여 익숙함.
* **단점:** * **가용성(High Availability) 부족:** 인스턴스 장애 시 작업 중단.
* **확장성 결여:** 작업 부하에 따른 유연한 대응이 어려움.
* **비용 효율성 저하:** 작업을 하지 않을 때도 인스턴스 비용이 발생.



### 2. EventBridge + Lambda (서버리스 CRON)

AWS가 가장 권장하는 서버리스 스케줄링 방식입니다.

* **작동 방식:** Amazon EventBridge의 규칙(Schedule)이 정해진 시간에 Lambda 함수를 트리거.
* **장점:** 완전 관리형(Serverless), 인프라 관리 불필요, 높은 가용성.
* **제한 사항:** Lambda의 최대 실행 시간(15분) 및 런타임 환경의 제약을 받음.

### 3. 이벤트 기반 상호작용 워크플로 (Event-Driven)

인프라 내부의 특정 상태 변화에 즉각적으로 반응하는 전략입니다.

* **작동 방식:** 서비스 간의 이벤트를 감지하여 Lambda를 실행.
* **주요 데이터 소스:**
  * **S3:** 새로운 객체 생성 시 즉시 처리.
  * **API Gateway:** HTTP 요청을 통한 함수 호출.
  * **SQS / SNS:** 메시지 큐나 알림을 통한 비동기 작업 처리.


* **핵심:** 상태 변화에 즉각 대응하는 유연한 인프라 구축 가능.

### 4. EventBridge + AWS Batch (장기 실행 배치)

15분 이상 소요되는 무거운 작업을 위한 전략입니다.

* **작동 방식:** EventBridge 규칙에 따라 일정 주기(예: 3시간마다)로 AWS Batch 작업을 호출.
* **특징:** 독립된 컨테이너 환경에서 실행되며, 대규모 배치 컴퓨팅 리소스를 효율적으로 관리하고 확장함.

### 5. EventBridge + ECS Fargate (단순 컨테이너 실행)

Batch보다 단순하지만 컨테이너의 장점을 취하고 싶을 때 사용합니다.

* **작동 방식:** EventBridge의 대상으로 Fargate를 설정하여 컨테이너를 빠르게 실행.
* **비교:** AWS Batch는 고도의 스케줄링과 대량 작업 관리에 최적화되어 있고, Fargate는 좀 더 기본적이고 단순한 컨테이너 실행에 적합함.

### 6. EMR (Big Data 워크로드)

대용량 데이터 처리 및 복잡한 계산이 필요한 경우의 전략입니다.

* **작동 방식:** Elastic MapReduce(EMR) 클러스터를 사용하여 빅데이터 작업을 실행.
* **적합한 케이스:** 단계별 데이터 가공이 필요하거나, 분산 클러스터링 기반의 빅데이터 분석이 필요한 경우.

---

### 💡 요약 및 선택 가이드

| 전략 | 주요 서비스 | 적합한 작업 |
| --- | --- | --- |
| **전략 2** | Lambda | 15분 이내의 가벼운 서버리스 작업 |
| **전략 3** | S3, SQS, API GW | 실시간 이벤트 반응형 작업 |
| **전략 4/5** | Batch, Fargate | 15분 이상의 컨테이너 기반 장기 실행 작업 |
| **전략 6** | EMR | 빅데이터 분산 처리 및 복잡한 분석 |