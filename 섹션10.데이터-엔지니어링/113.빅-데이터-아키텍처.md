# 📊 AWS 데이터 엔지니어링 파이프라인 및 서비스 비교

AWS의 데이터 생태계는 수집(Ingestion)부터 분석 및 시각화(Analysis & Visualization)까지 다양한 도구를 조합하여 아키텍처를 구성할 수 있습니다.

---

## 1. 데이터 수집 및 처리 흐름 (Ingestion Path)

실시간 또는 준실시간으로 데이터를 수집하여 저장소로 보내는 일반적인 흐름입니다.

* **데이터 생산:** IoT 기기 등에서 실시간 데이터 발생.
* **수집 및 전송:** * **Kinesis Data Streams:** 실시간 데이터 스트림 수집.
* **Kinesis Data Firehose:** 데이터를 Amazon S3와 같은 목적지로 전송 (약 1분 단위의 준실시간 처리).


* **데이터 변환:** **AWS Lambda**를 Firehose 중간에 배치하여 S3 적재 전 데이터를 가공/변환.
* **이벤트 트리거:** S3에 파일이 생성되면 **SQS** 대기열에 넣거나, **Lambda**를 직접 호출하여 후속 작업(Athena 쿼리 등) 실행.

---

## 2. 분석 및 시각화 계층 (Analysis & Reporting)

저장된 데이터를 쿼리하고 비즈니스 인사이트를 도출하는 단계입니다.

* **Amazon Athena:**
* S3에 저장된 데이터를 직접 쿼리하는 **서버리스** 도구.
* 자주 실행하지 않는 쿼리나 즉각적인 분석에 적합.


* **Amazon Redshift / Redshift Spectrum:**
* 고성능 데이터 웨어하우스(DW).
* **Spectrum** 기능을 사용하면 데이터를 Redshift로 로드하지 않고도 S3의 데이터를 직접 SQL로 쿼리 가능.


* **Amazon QuickSight:**
* 시각화 도구로 Athena, Redshift와 통합되어 대시보드 생성.



---

## 3. 주요 빅데이터 서비스 상세 비교

상황과 요구사항에 따라 적절한 서비스를 선택하는 것이 중요합니다.

### 🐘 Amazon EMR (Elastic MapReduce)

오픈 소스 프레임워크 기반의 빅데이터 처리에 최적화되어 있습니다.

* **주요 도구:** Hadoop, Spark, Hive 등.
* **활용 사례:** 온프레미스의 빅데이터 환경을 AWS로 이전(Migration)할 때 유용.
* **아키텍처 모델:** * **Long-running:** 하나의 큰 클러스터를 유지하며 지속적으로 작업 처리.
* **Job-specific:** 작업당 하나의 클러스터를 생성하고 종료하여 독립적 확장성 확보.


* **비용 최적화:** 인스턴스 유형(Spot, On-demand, Reserved)을 노드 성격에 따라 혼합 사용.
* **저장소:** EBS(HDFS용 임시 데이터) 및 S3(EMRFS를 통한 장기 보관 데이터) 사용.

### 🔍 Amazon Athena

* **특징:** 설정이 필요 없는 서버리스 SQL 서비스.
* **데이터 위치:** 반드시 **Amazon S3**에 데이터가 있어야 함.
* **장점:** CloudTrail 등을 통한 쿼리 감사(Audit)가 용이하며, 단순 집계나 임시 쿼리에 경제적.

### 🚀 Amazon Redshift

* **특징:** 프로비저닝이 필요한 완전 관리형 데이터 웨어하우스.
* **장점:** 복잡하고 고급화된 SQL 쿼리 수행에 최적화.
* **운영 팁:** 지속적으로 쿼리가 발생하는 환경에서 비용 효율적이며, 대규모 데이터셋에 대한 강력한 성능 제공.

---

## 💡 요약 및 결론

| 구분 | Amazon EMR | Amazon Athena | Amazon Redshift |
| --- | --- | --- | --- |
| **핵심 기술** | Hadoop, Spark, Hive (오픈소스) | Presto 기반 서버리스 SQL | PostgreSQL 기반 DW |
| **인프라 관리** | 클러스터 관리 필요 | 서버리스 (관리 불필요) | 노드/클러스터 관리 필요 |
| **데이터 소스** | HDFS, S3, DynamoDB 등 | S3 전용 | 내부 스토리지, S3 (Spectrum) |
| **주 용도** | 복잡한 ETL 및 대규모 처리 | 간편한 쿼리 및 로그 분석 | 고성능 엔터프라이즈 DW |
