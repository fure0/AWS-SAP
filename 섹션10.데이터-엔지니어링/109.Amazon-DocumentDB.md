## 🍃 Amazon DocumentDB 상세 정리

### 1. 서비스 개요

DocumentDB는 JSON 데이터를 저장, 쿼리 및 인덱싱하는 데 최적화된 **완전 관리형 NoSQL 데이터베이스 서비스**입니다.

* **MongoDB 호환:** 기존 MongoDB 워크로드를 그대로 가져와 사용할 수 있습니다.
* **Cloud Native:** AWS 인프라에 최적화되어 Aurora와 유사한 아키텍처적 이점을 제공합니다.

### 2. 주요 특징 및 아키텍처

DocumentDB는 성능과 가용성 면에서 Aurora와 매우 유사한 구조를 가집니다.

* **고가용성:** 3개의 가용 영역(AZ)에 걸쳐 데이터가 복제됩니다.
* **자동 확장 스토리지:** 스토리지 계층이 데이터 양에 따라 **10GB 단위로 자동 증가**합니다. (수동 관리 불필요)
* **고성능:** 초당 수백만 건의 요청을 처리할 수 있는 대규모 워크로드 확장이 가능합니다.
* **완전 관리형:** 하드웨어 프로비저닝, 패치, 설정 등의 운영 부담이 없습니다.

---

### 3. 요금 체계 (Pricing Model)

DocumentDB는 사용한 만큼 지불하는 방식이지만, **"온디맨드 인스턴스"** 기반으로 작동한다는 점을 명심해야 합니다.

| 구분 | 과금 기준 | 특징 |
| --- | --- | --- |
| **인스턴스 비용** | 온디맨드 인스턴스 사용 시간 | 1초 단위 청구 (최소 10분) |
| **데이터베이스 I/O** | 100만 요청(I/Os)당 비용 | 읽기/쓰기 작업 횟수에 따라 발생 |
| **스토리지** | 월별 GB당 비용 | 실제 저장된 데이터 용량 기준 |
| **백업** | 월별 GB당 비용 | Amazon S3에 저장되는 백업 용량 기준 |

> **⚠️ 주의사항:** DocumentDB는 인스턴스를 미리 띄워놓는 **프로비저닝 방식**입니다. "서버리스(Serverless)" 형태의 완전한 온디맨드 티어가 따로 있는 것이 아니므로, 인스턴스 실행 시간에 대한 비용이 기본적으로 발생한다는 점에 유의하세요.

---

### 4. 핵심 요약: 왜 DocumentDB인가?

AWS 환경에서 MongoDB를 직접 설치해서 운영하는 것보다 DocumentDB를 사용하는 것이 훨씬 효율적입니다.

1. **운영 효율성:** AWS가 직접 관리하므로 관리가 쉽습니다.
2. **안정성:** Aurora의 검증된 스토리지 기술을 공유하여 데이터 손실 위험이 적습니다.
3. **유연성:** 초기 비용 없이 시작할 수 있으며, 비즈니스 성장에 따라 유연하게 확장 가능합니다.
