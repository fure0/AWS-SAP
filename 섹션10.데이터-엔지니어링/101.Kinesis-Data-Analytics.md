## Kinesis Data Analytics 개요

Kinesis Data Analytics는 데이터 스트림을 실시간으로 분석하고 처리하는 **서버리스** 서비스입니다. 복잡한 인프라 관리 없이 SQL이나 Java(Apache Flink)를 사용하여 스트리밍 데이터에 대한 계산을 수행할 수 있습니다.

### 1. 데이터 입력 (Input)

분석을 시작하기 위해서는 소스 데이터가 필요합니다.

* **스트리밍 데이터 소스:** Kinesis Data Streams 또는 Kinesis Data Firehose로부터 데이터를 읽어옵니다.
* **참조 데이터 (Reference Table):** 스트림 데이터와 결합(Join)할 정적인 데이터가 필요한 경우 **Amazon S3**에서 참조 테이블을 불러올 수 있습니다. (예: 상품 ID를 상품명으로 변환하기 위한 매핑 테이블)

### 2. 데이터 처리 (Processing)

입력된 데이터를 바탕으로 실시간 쿼리나 로직을 실행합니다.

* **사용 언어:** 표준 **SQL**을 사용하여 쿼리하거나, **Java 기반의 Apache Flink**를 사용할 수 있습니다.
* **스키마 검색 (Schema Discovery):** 소스 데이터를 자동으로 분석하여 각 열의 데이터 유형과 구조를 파악하는 기능입니다.
* **전처리:** 필요 시 **AWS Lambda**를 통합하여 데이터를 미리 가공하거나 변환할 수 있습니다.

### 3. 데이터 출력 (Output)

처리된 결과는 두 가지 형태의 스트림으로 나뉩니다.

* **출력 스트림 (Output Stream):** 분석이 완료된 실시간 결과물입니다.
* **Kinesis Data Streams**로 보내어 다른 소비자(Consumer)가 읽게 할 수 있습니다.
* **Kinesis Data Firehose**를 거쳐 Amazon S3나 Redshift 같은 스토리지/데이터 웨어하우스로 전송할 수 있습니다.


* **오류 스트림 (Error Stream):** 데이터 형식이 맞지 않는 등 처리 중 발생한 오류 데이터를 별도로 모아 분석할 수 있습니다.

---

## 주요 특징 및 사용 사례

### 핵심 특징

* **서버리스 (Serverless):** 프로비저닝이 필요 없으며 관리 부담이 적습니다.
* **오토 스케일링 (Auto Scaling):** 데이터 양에 따라 자동으로 리소스를 조절합니다.
* **비용 모델:** 리소스 소비량에 비례하여 과금됩니다 (저렴한 편은 아니나 효율적임).
* **보안:** 소스와 대상에 접근하기 위해 **IAM 역할(Role)** 설정이 필수입니다.

### 주요 사용 사례

* **스트리밍 ETL:** 데이터가 흐르는 동안 특정 열을 선택하거나 간단한 변환을 수행하여 저장소로 보냅니다.
* **지속적 지표 생성 (Continuous Metrics):** 모바일 게임의 실시간 순위표(Leaderboard)처럼 끊임없이 변하는 지표를 계산합니다.
* **반응형 실시간 분석:** 특정 임계치를 넘는 데이터를 감지하여 실시간 알림을 보내거나 필터링합니다.

---

**내용 요약:** Kinesis Data Analytics는 **"Streams/Firehose → SQL/Flink 분석 → Streams/Firehose 출력"**의 흐름을 가진 서버리스 분석 도구라는 점만 기억하시면 시험 준비에 충분합니다.