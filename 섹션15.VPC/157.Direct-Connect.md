## 1. AWS Direct Connect (DX) 개요

Direct Connect는 온프레미스(데이터 센터)에서 AWS VPC로 연결되는 **전용 프라이빗 네트워크 연결**을 제공하는 서비스입니다.

* **특징**: 공용 인터넷을 우회하여 AWS 로케이션과 데이터 센터 간에 직접 연결을 설정합니다.
* **장점**:
* **비용 절감**: 대량의 데이터 전송 시 공용 네트워크 비용보다 저렴할 수 있습니다.
* **대역폭 증가**: 전용선을 사용하므로 높은 네트워크 처리량을 제공합니다.
* **안정성**: 인터넷 환경의 변동성 없이 일관된 네트워크 성능을 보장합니다.


* **주의사항**: 기본 설정은 중복되지 않으므로, 고가용성을 위해 **장애 조치(Failover)**용 DX를 추가하거나 VPN을 백업으로 구성해야 합니다.

---

## 2. 가상 인터페이스 (VIF: Virtual Interface)

Direct Connect를 통해 어디에 접속하느냐에 따라 세 가지 유형의 VIF를 사용합니다.

| 종류 | 연결 대상 | 설명 |
| --- | --- | --- |
| **공용 VIF (Public VIF)** | AWS 공용 서비스 | S3, EC2 API, Glacier 등 공용 엔드포인트 서비스에 접속 |
| **전용 VIF (Private VIF)** | 특정 VPC 내부 리소스 | 단일 VPC 내의 EC2, ALB 등 사설 리소스에 접속 |
| **Transit VIF** | Transit Gateway | Transit Gateway를 통해 여러 VPC 및 네트워크에 연결 |

---

## 3. 연결 유형 (Connection Types)

DX 연결은 물리적 포트 점유 방식에 따라 두 가지로 나뉩니다.

### ① 전용 연결 (Dedicated Connection)

* **용량**: 1Gbps, 10Gbps, 100Gbps.
* **방식**: 고객에게 할당된 물리적 이더넷 포트를 직접 사용합니다.
* **절차**: AWS에 직접 요청 → DX 파트너가 물리적 연결 완료 (약 1개월 이상 소요).

### ② 호스팅된 연결 (Hosted Connection)

* **용량**: 50Mbps ~ 10Gbps (다양한 옵션).
* **방식**: AWS 파트너를 통해 요청하며, 파트너의 물리적 라인을 논리적으로 나누어 사용합니다.
* **장점**: 수요에 따라 용량 추가/제거가 비교적 유연합니다.

---

## 4. 보안 및 암호화

* **기본 상태**: DX 자체는 전용선이므로 프라이빗하지만, 데이터 자체가 **암호화되지는 않습니다.**
* **암호화 방법**: DX 위에 **VPN(IPsec)**을 추가로 설정하여 전용선 구간의 데이터를 보호합니다.
* 이때 VPN은 DX의 **공용 VIF**를 활용하여 엔드포인트를 맺습니다.



---

## 5. LAG (Link Aggregation Group)

여러 개의 Direct Connect 연결을 하나로 묶어 성능과 안정성을 높이는 기능입니다.

* **목적**: 대역폭 확장 및 장애 조치(Failover) 허용.
* **구성**: 최대 **4개**의 연결을 **활성-활성(Active-Active)** 모드로 집계 가능.
* **조건**:
* 모든 연결은 **전용 연결(Dedicated)**이어야 함.
* 모든 연결의 **대역폭**이 동일해야 함.
* 동일한 DX 엔드포인트(로케이션)에서 종료되어야 함.



---

## 6. Direct Connect 게이트웨이 & Transit Gateway

복잡한 멀티 리전/멀티 계정 환경을 연결하기 위한 핵심 컴포넌트입니다.

### ① Direct Connect Gateway

* **사용 사례**: 여러 리전이나 여러 계정에 흩어져 있는 다수의 VPC를 하나의 DX 연결로 통합할 때 사용합니다.
* **작동**: 전용 VIF를 DX 게이트웨이에 연결하면, 게이트웨이가 각 리전의 VPC로 신호를 분배합니다.

### ② Transit Gateway와 결합

* **사용 사례**: 수많은 VPC와 VPN, DX 연결을 허브 앤 스포크(Hub-and-Spoke) 방식으로 관리할 때 사용합니다.
* **연결**: DX 연결 → DX 게이트웨이 → **Transit VIF** → Transit Gateway 순으로 연결됩니다.
