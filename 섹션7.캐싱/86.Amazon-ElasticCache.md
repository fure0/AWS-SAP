## 1. Amazon ElastiCache 개요

Amazon ElastiCache는 AWS에서 제공하는 **관리형 인메모리 캐시 서비스**입니다. RDS가 관계형 DB를 관리해주듯, ElastiCache는 **Redis** 또는 **Memcached** 엔진을 편리하게 관리할 수 있게 해줍니다.

* **특징:** 매우 높은 성능과 초저지연(Low Latency)을 제공하는 인메모리 데이터베이스입니다.
* **AWS의 역할:** OS 유지 관리, 패치, 설정, 모니터링, 장애 복구 및 백업을 자동화합니다.
* **주의사항:** 단순히 활성화한다고 적용되는 것이 아니라, **애플리케이션 코드 수정**이 반드시 필요합니다.

---

## 2. 주요 아키텍처 및 활용 사례

### ① DB 부하 감소 (Read-Intensive Workload)

자주 조회되는 데이터를 캐시에 저장하여 데이터베이스(RDS 등)의 읽기 부하를 줄입니다.

* **캐시 히트(Cache Hit):** 애플리케이션이 캐시에서 데이터를 바로 찾아내는 경우. DB에 접근하지 않아 속도가 매우 빠릅니다.
* **캐시 미스(Cache Miss):** 캐시에 데이터가 없는 경우. DB에서 데이터를 읽어온 후, 다음 작업을 위해 캐시에 데이터를 기록합니다.
* **캐시 무효화(Cache Invalidation):** 캐시 데이터가 최신 상태를 유지하도록 관리하는 전략으로, 캐싱 기술에서 가장 어려운 부분입니다.

### ② 무상태 애플리케이션(Stateless App) 구축

사용자의 **세션 데이터(Session State)**를 ElastiCache에 저장하여 서버가 직접 상태를 갖지 않게 합니다.

* 사용자가 다른 인스턴스로 리디렉션되어도 캐시에서 세션을 불러올 수 있어 로그인 상태가 유지됩니다.

---

## 3. Redis vs Memcached 비교

두 엔진은 아키텍처와 제공 기능에서 큰 차이가 있습니다.

| 기능 | **Redis** | **Memcached** |
| --- | --- | --- |
| **고가용성** | 다중 AZ, 자동 장애 조치(Failover) 지원 | 고가용성 미지원 (일반적으로) |
| **복제** | 읽기 복제본(Read Replicas) 지원 | 복제 기능 없음 |
| **데이터 내구성** | AOF 지속성, 백업 및 복원 지원 | 데이터 분실 위험 있음 (서버리스 제외) |
| **데이터 구조** | 집합(Sets), 정렬된 집합(Sorted Sets) 등 다양함 | 단순 키-값(Key-Value) 형태 |
| **아키텍처** | 복제 중심 (Node to Node Replication) | 데이터 분산(Sharding) 중심 |
| **멀티 스레드** | 미지원 (단일 스레드 중심) | **멀티 스레드 아키텍처 지원** (성능 이점) |
| **주요 사례** | 리더보드, 복잡한 데이터 구조, 고가용성 필요 시 | 단순 캐싱, 수평적 확장(샤딩) 필요 시 |

---

## 4. 핵심 요약 (Exam Tip)

* **성능 향상:** 읽기 중심 작업에서 DB 부하를 낮추기 위해 사용합니다.
* **상태 관리:** 세션 데이터를 저장하여 애플리케이션의 Stateless 설계를 가능하게 합니다.
* **선택 기준:** 데이터 보존과 고가용성이 중요하다면 **Redis**, 단순하고 빠른 데이터 분산이 목적이라면 **Memcached**를 고려하세요.