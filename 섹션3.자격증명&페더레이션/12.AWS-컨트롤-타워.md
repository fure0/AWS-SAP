# 🛡️ AWS Control Tower 핵심 정리

AWS Control Tower는 AWS의 모범 사례(Best Practices)를 바탕으로, 안전하고 규정을 준수하는 **다중 계정 환경(Landing Zone)**을 쉽고 빠르게 설정하고 관리할 수 있도록 돕는 서비스입니다.

---

## 1. 주요 특징 및 기능

* **자동화된 환경 설정:** 클릭 몇 번으로 다중 계정 환경을 자동화하고 관리합니다.
* **AWS Organizations 기반:** 조직(Organizations) 생성, 계정 체계화, SCP(서비스 제어 정책) 구현을 자동으로 수행합니다.
* **중앙 집중형 거버넌스:** 대화형 대시보드를 통해 조직 전체의 규정 준수 상태를 한눈에 모니터링합니다.

---

## 2. 핵심 구성 요소

### ① Account Factory (계정 팩토리)

신규 계정의 프로비저닝과 배포를 자동화하는 "계정 템플릿" 역할을 합니다.

* **표준화:** 모든 계정에 동일한 베이스라인(기본 VPC, 서브넷, 리전 설정 등)을 적용합니다.
* **기반 기술:** 내부적으로 **AWS Service Catalog**를 사용하여 사전 승인된 구성으로 계정을 생성합니다.

### ② IAM Identity Center (Single Sign-On)

다중 계정 환경의 중앙 집중식 인증 소스 역할을 합니다.

* **온프레미스 통합:** 기업 데이터 센터의 **Active Directory(AD)**와 연결 가능합니다.
* **인증 흐름:** 1.  AWS Managed Microsoft AD 생성
2.  온프레미스 AD와 AWS AD 간 **양방향 신뢰 관계(Two-way Trust)** 구축
3.  Control Tower로 생성된 모든 계정은 IAM Identity Center를 통해 통합 인증 수행

---

## 3. 가드레일 (Guardrails)

조직 전체의 정책 위반 사항을 탐지하고 교정하여 지속적인 거버넌스를 제공합니다.

### 🛡️ 가드레일의 동작 방식

| 종류 | 도구 | 설명 | 예시 |
| --- | --- | --- | --- |
| **예방형 (Preventive)** | **SCP** | 정책 위반 행위 자체를 차단 | 루트 사용자의 액세스 키 생성 금지 |
| **탐지형 (Detective)** | **AWS Config** | 위반 사항을 감지하고 알림/교정 | 루트 사용자의 MFA 활성화 여부 확인 |

> **💡 탐지형 가드레일의 자동 교정(Remediation) 흐름:**
> 리소스 규정 비준수 감지(Config) → SNS 알림 트리거 → Lambda 함수 호출 → 위반 사항 자동 수정 (예: 누락된 태그 추가)

---

## 4. 가드레일 지침 범주

가드레일은 중요도와 적용 방식에 따라 세 가지 범주로 나뉩니다.

1. **필수 가드레일 (Mandatory):**
* Control Tower 설정 시 자동으로 활성화되며 해제할 수 없습니다.
* 예: 로그 아카이브 계정에 대한 퍼블릭 읽기 액세스 차단.


2. **강력 권장 가드레일 (Strongly Recommended):**
* AWS 모범 사례에 기반하며, 대부분의 기업 환경에 권장됩니다.
* 예: EC2 인스턴스에 연결된 EBS 볼륨 암호화 활성화.


3. **선택적 가드레일 (Elective):**
* 기업의 특정 요구 사항에 따라 선택적으로 적용합니다.
* 예: MFA 없이는 S3 버킷 삭제를 허용하지 않음.
