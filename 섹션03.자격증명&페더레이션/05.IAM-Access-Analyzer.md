## 🛡️ IAM Access Analyzer 핵심 요약

IAM Access Analyzer는 리소스에 대한 **외부 공유 상태를 모니터링**하고, **최소 권한 원칙**을 준수하는 정책을 생성 및 검증하는 데 도움을 주는 보안 서비스입니다.

### 1. 외부 리소스 액세스 탐지 (External Access Monitoring)

리소스 정책을 통해 외부 계정이나 엔터티에 권한이 부여된 경우를 찾아내어 보안 위험을 방지합니다.

* **작동 원리**: 사용자가 정의한 **신뢰 구역(Zone of Trust)**—일반적으로 자신의 AWS 계정 또는 AWS Organizations 전체—을 기준으로, 이 구역 외부의 엔터티가 리소스에 액세스할 수 있는 경우를 **Finding(발견물)**으로 보고합니다.
* **지원 리소스**:
  * S3 버킷
  * IAM 역할 (Roles)
  * KMS 키
  * Lambda 함수 및 레이어
  * SQS 대기열
  * Secrets Manager 비밀



---

### 2. 정책 검증 (Policy Validation)

정책을 작성할 때 문법적 오류나 보안상 위험한 설정을 실시간으로 체크합니다.

* **체크 항목**: 정책 문법, 보안 모범 사례 부합 여부.
* **제공 정보**:
  * **오류(Errors):** 정책이 작동하지 않는 치명적 문제.
  * **보안 경고(Security Warnings):** 너무 관대한 권한(예: Wildcard 사용)에 대한 경고.
  * **경고(Warnings) 및 제안(Suggestions):** 정책 최적화를 위한 권고 사항.


* **효과**: 조치 가능한 권고 사항을 통해 정책의 품질을 즉각적으로 개선할 수 있습니다.

---

### 3. 활동 기반 정책 생성 (Policy Generation)

실제 사용 기록을 바탕으로 **최소 권한(Least Privilege)** 정책을 자동으로 만들어주는 매우 유용한 기능입니다.

* **프로세스**:
  1. 애플리케이션(예: Lambda)이 S3나 Kinesis 등에 API 호출을 수행.
  2. 이 모든 활동이 **AWS CloudTrail**에 로그로 기록됨.
  3. IAM Access Analyzer가 **최대 90일간**의 로그를 분석.
  4. 실제로 사용된 서비스와 액션만 포함된 세밀한(Granular) IAM 정책을 생성.


* **장점**: 수동으로 권한을 일일이 나열할 필요 없이, 실제 비즈니스 로직에 딱 맞는 보안 모범 사례 기반의 정책을 확보할 수 있습니다.

---

### 💡 요약 표

| 기능 | 주요 목적 | 활용 도구 |
| --- | --- | --- |
| **Finding 탐지** | 의도치 않은 외부 공유 식별 | 리소스 기반 정책 분석 |
| **정책 검증** | 문법 오류 및 보안 위험 수정 | 정책 편집기(Validation) |
| **정책 생성** | 최소 권한 정책 자동 수립 | CloudTrail 로그 분석 |
