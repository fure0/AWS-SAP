## 1. 재해 복구(DR)의 정의 및 접근 방식

재해란 비즈니스 지속성이나 재정에 악영향을 주는 이벤트입니다. AWS에서는 크게 세 가지 형태의 DR 환경을 구축할 수 있습니다.

* **On-Premise to On-Premise:** 전통적인 방식, 비용이 매우 비쌈.
* **Hybrid (On-Premise to Cloud):** 메인은 온프레미스, DR은 클라우드 활용.
* **Cloud-to-Cloud:** AWS 리전 간(Region A to Region B) 복구 체계 구축.

---

## 2. 핵심 지표: RPO vs RTO

시험에서 가장 중요한 두 가지 개념입니다. 이 수치가 낮을수록 복구 속도는 빠르지만 비용은 증가합니다.

| 용어 | 풀이 | 의미 | 결정 요소 |
| --- | --- | --- | --- |
| **RPO** | Recovery Point Objective (복구 시점 목표) | **데이터 손실** 허용 범위 | 백업 주기 (예: 1시간마다 백업 시 RPO는 1시간) |
| **RTO** | Recovery Time Objective (복구 시간 목표) | **다운타임** 허용 범위 | 복구에 걸리는 시간 (서비스 재개까지의 시간) |

---

## 3. 4가지 주요 재해 복구 전략

RTO/RPO가 낮은 순서(빠른 복구 순)로 나열하면 다음과 같습니다.

### ① 백업 및 복구 (Backup & Restore)

* **특징:** 데이터를 정기적으로 백업하고, 재해 발생 시 인프라를 처음부터 새로 생성.
* **RPO/RTO:** 가장 높음 (느림).
* **비용:** 가장 저렴 (평소에는 저장 비용만 발생).
* **방법:** EBS 스냅샷, S3, Snowball, Storage Gateway 활용.

### ② 파일럿 라이트 (Pilot Light)

* **특징:** 핵심 데이터베이스(Critical Core)만 클라우드에서 실시간 복제하며 가동.
* **상태:** DB는 실행 중, EC2 서버 등은 중지 상태(AMI 형태)로 대기.
* **복구:** 재해 시 Route 53 장애 조치를 통해 EC2를 즉시 프로비저닝.

### ③ 웜 스탠바이 (Warm Standby)

* **특징:** 시스템의 최소화된 버전(Minimum Size)이 항상 클라우드에서 실행 중.
* **상태:** ASG(Auto Scaling Group)가 최소 수량으로 가동 중이며 ELB도 연결됨.
* **복구:** 재해 시 ASG를 확장(Scale-out)하여 트래픽 처리. 파일럿 라이트보다 빠름.

### ④ 다중 사이트 접근 (Multi-Site / Hot Site)

* **특징:** 두 개 이상의 리전에서 전체 프로덕션을 **Active-Active**로 운영.
* **RPO/RTO:** 거의 0에 수렴 (실시간 복구).
* **비용:** 매우 비쌈 (전체 인프라를 두 배로 운영).
* **방법:** Route 53 가중치 기반 라우팅, Aurora Global Database 등 활용.

---

## 4. 서비스별 DR 팁 및 자동화

### 데이터 백업 및 전송

* **Snapshot:** EBS, RDS 스냅샷을 S3로 푸시.
* **Lifecycle:** S3 수명 주기 정책으로 Glacier 등 저비용 스토리지로 이동.
* **Cross-Region:** 리전 간 복제(CRR) 설정.

### 고가용성(HA) 및 네트워크

* **Route 53:** DNS 장애 조치(Failover)로 리전 간 이동.
* **Managed Services:** Multi-AZ(RDS, ElastiCache), EFS, S3 등 기본 고가용성 서비스 활용.
* **Direct Connect & VPN:** Direct Connect 장애 시 Site-to-Site VPN을 백업 경로로 설정.

### 자동화 및 테스트

* **Infrastructure as Code:** **CloudFormation**, Elastic Beanstalk으로 환경 신속 재구성.
* **Monitoring:** CloudWatch 알람을 통한 EC2 자동 복구 또는 Lambda 기반 자동화.
* **Chaos Engineering:** **Netflix의 Chaos Monkey**처럼 프로덕션 환경에서 의도적 장애를 유발해 시스템의 견고함(Resilience)을 테스트.
