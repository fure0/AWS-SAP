# 📧 Amazon SES (Simple Email Service) 총정리

Amazon SES는 대규모 이메일 전송을 위해 설계된 **완전관리형 이메일 서비스**입니다. 애플리케이션 내에서 마케팅, 알림, 트랜잭션 이메일을 안전하고 효율적으로 보낼 수 있도록 지원합니다.

## 1. 주요 특징 및 기능

* **전송 방식**: SES API를 직접 호출하거나 표준 **SMTP 인터페이스**를 사용하여 이메일을 전송합니다.
* **양방향 통신**: 이메일 발신뿐만 아니라 수신도 가능하여 사용자로부터 답장을 받을 수 있습니다.
* **신뢰성 및 보안**:
  * **평판 대시보드**: 이메일이 스팸으로 분류되지 않도록 전송률, 반송률(Bounce), 수신 확인률 등을 모니터링합니다.
  * **인증 프로토콜**: 최신 이메일 인증 표준인 **DKIM(DomainKeys Identified Mail)**과 **SPF(Sender Policy Framework)**를 지원합니다.

* **IP 유연성**: 전송 목적에 따라 **공유 IP, 전용 IP, 또는 고객 소유 IP(BYOIP)** 중 선택하여 사용할 수 있습니다.

## 2. 주요 사용 사례

* **트랜잭션 이메일**: 비밀번호 재설정, 주문 확인서 등 개별 사용자 액션에 따른 메일.
* **마케팅 이메일**: 광고, 뉴스레터, 프로모션 정보 발송.
* **대량 커뮤니케이션**: 전체 공지사항 등 대규모 사용자 그룹 대상 전송.

---

## 3. 핵심 기능: 구성 세트 (Configuration Sets)

구성 세트는 이메일 전송 이벤트를 추적하고 관리하기 위한 규칙 모음입니다. 크게 두 가지 설정이 핵심입니다.

### ① 이벤트 대상 (Event Destinations)

이메일 전송 결과에 대한 지표를 어디로 보낼지 결정합니다.

* **Kinesis Data Firehose**: 전송률, 수신 확인, 클릭률, 반송률 등 상세 지표를 수집하여 분석 도구(S3, Athena, Kinesis Analytics)로 전달합니다.
* **Amazon SNS**: 이메일 반송(Bounce)이나 수신 거부(Complaint) 발생 시 즉각적인 알림을 받는 데 사용합니다.

### ② IP 풀 관리 (IP Pool Management)

이메일의 성격에 따라 발신 IP를 분리하여 **이메일 평판**을 관리합니다.

* 예: **트랜잭션용 IP 풀**과 **마케팅용 IP 풀**을 별도로 운영하여, 마케팅 메일의 반송률이 높더라도 중요한 트랜잭션 메일의 도달률에 영향을 주지 않도록 격리합니다.

---

## 4. 데이터 흐름 및 분석 아키텍처

SES에서 발생한 데이터는 다음과 같은 흐름으로 분석될 수 있습니다.

1. **발생**: Amazon SES를 통해 이메일 전송.
2. **수집**: 구성 세트를 통해 실시간 데이터를 **Kinesis Data Firehose**로 전송.
3. **분석**:
   * **Kinesis Data Analytics**: 실시간 지표 분석.
   * **Amazon S3 & Athena**: 데이터를 S3에 저장한 후 Athena로 쿼리하여 상세 내역 분석.

4. **피드백**: **Amazon SNS**를 통해 반송/거부 이벤트에 대한 즉각적인 피드백 루프 생성.
