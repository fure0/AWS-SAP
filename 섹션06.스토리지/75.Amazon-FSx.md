## 1. Amazon FSx 개요

Amazon FSx는 클라우드에서 **서드 파티 고성능 파일 시스템**을 실행할 수 있게 해주는 **완전관리형** 서비스입니다.

* **비유:** RDS가 DB(MySQL, Postgres 등)를 관리해주듯, FSx는 파일 시스템(Lustre, Windows 등)을 관리해줍니다.
* **핵심 가치:** 온프레미스에서 사용하던 익숙한 파일 시스템을 설정 변경 없이 AWS로 마이그레이션하거나 고성능 컴퓨팅에 활용합니다.

---

## 2. FSx for Windows File Server

Windows 환경에 최적화된 공유 파일 스토리지입니다.

* **프로토콜:** SMB 지원, Windows NTFS 기반.
* **보안 및 관리:** * Microsoft **Active Directory(AD)** 통합.
* **ACL**(액세스 제어 목록) 및 사용자 할당량 지원.


* **연결성:** Windows뿐만 아니라 **Linux EC2 인스턴스**에서도 마운트 가능.
* **확장성:** **DFS**(Distributed File System)를 통해 온프레미스와 통합 및 그룹화 가능.
* **스토리지 옵션:**
* **SSD:** 데이터베이스, 미디어 처리, 분석 등 지연 시간에 민감한 작업.
* **HDD:** 홈 디렉터리, CMS 등 비용 효율적인 광범위한 워크로드.


* **가용성:** 다중 AZ(Multi-AZ) 구성 가능, 매일 S3에 자동 백업.

---

## 3. FSx for Lustre

**Lustre(Linux + Cluster)**라는 이름처럼 대규모 컴퓨팅과 고성능 분산 처리에 특화되어 있습니다.

* **주요 키워드:** **Machine Learning(ML), HPC(고성능 컴퓨팅)**, 비디오 처리, 재무 모델링.
* **성능:** 수백 GB/s 처리량, 수백만 IOPS, 밀리초 미만 지연 시간.
* **S3 통합:** S3 데이터를 FSx 파일 시스템으로 직접 읽고, 계산 결과를 다시 S3로 쓰기 가능.
* **배포 옵션:**
| 구분 | 스크래치(Scratch) 파일 시스템 | 영구(Persistent) 파일 시스템 |
| :--- | :--- | :--- |
| **특징** | 임시 스토리지, 복제 안 됨 | 장기 스토리지, 동일 AZ 내 복제 |
| **성능** | **버스트 성능 매우 높음** (6배 빠름) | 가용성 및 데이터 보호 중심 |
| **장점** | 비용 최적화, 고대역폭(200MB/s/TiB) | 서버 장애 시 수 분 내 자동 대체 |
| **사례** | 단기 데이터 처리 | 장기 처리, 민감 데이터 저장 |

---

## 4. FSx for NetApp ONTAP

온프레미스 NetApp 스토리지 환경을 AWS로 그대로 옮길 때 사용합니다.

* **호환성:** **NFS, SMB, iSCSI** 프로토콜 모두 지원.
* **범용성:** Linux, Windows, MacOS는 물론 VMware Cloud, Workspaces, 컨테이너(EKS/ECS)와 광범위하게 호환.
* **주요 기능:**
* **오토 스케일링:** 스토리지 용량 자동 확장/축소.
* **효율성:** 데이터 압축 및 **중복 제거(Deduplication)**로 비용 절감.
* **복제:** 스냅샷 및 시점 순간 클론(Instant Clone) 지원 (테스트/스테이징 환경 구축에 유리).



---

## 5. FSx for OpenZFS

ZFS 파일 시스템 기반의 워크로드를 AWS로 마이그레이션할 때 사용합니다.

* **프로토콜:** **NFS** (여러 버전의 NFS와 호환).
* **성능:** **0.5ms 미만의 초저지연**, 백만 IOPS 지원.
* **주요 기능:**
* 스냅샷, 압축 지원.
* **시점 순간 클론** 지원 (NetApp ONTAP과 유사하게 테스트용으로 유용).
* **주의:** 데이터 중복 제거(Deduplication)는 지원하지 않음.



---

## 💡 요약 및 시험 포인트

1. **Windows 환경/AD 통합** 필요 시  **FSx for Windows**
2. **HPC, ML, S3와 빠른 연동** 필요 시  **FSx for Lustre**
3. **온프레미스 NAS(NetApp) 이전, 다중 프로토콜(iSCSI 등)** 필요 시  **FSx for NetApp ONTAP**
4. **ZFS 기반 이전, 초고성능 NFS** 필요 시  **FSx for OpenZFS**
