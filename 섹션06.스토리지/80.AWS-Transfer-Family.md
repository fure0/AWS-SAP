## 1. AWS Transfer Family 개요

FTP 프로토콜을 사용하여 **Amazon S3** 또는 **Amazon EFS**로 데이터를 안전하고 간편하게 전송할 수 있게 해주는 완전 관리형 서비스입니다.

### 지원 프로토콜 (3종)

* **FTP (File Transfer Protocol):** 암호화되지 않음 (보안 취약).
* **FTPS (File Transfer Protocol over SSL):** 전송 중 암호화 지원.
* **SFTP (Secure File Transfer Protocol):** SSH를 통한 보안 전송, 가장 권장됨.

### 주요 특징

* **완전 관리형:** 인프라 관리 필요 없음, 높은 가용성 및 자동 스케일링 제공.
* **인증 통합:** 서비스 자체 사용자 저장소 외에도 외부 인증 시스템과 통합 가능.
* *Microsoft Active Directory, LDAP, Okta, Amazon Cognito, 사용자 지정 시스템.*


* **요금 체계:** 프로비저닝된 엔드포인트 시간당 비용 + 데이터 전송량(GB) 기반.

---

## 2. 작동 원리 및 흐름

1. **엔드포인트 생성:** 사용자는 FTP/SFTP 엔드포인트에 접속합니다.
2. **DNS 연결:** Route 53을 통해 사용자 정의 호스트 이름을 부여할 수 있습니다.
3. **권한 제어:** Transfer Family 서비스가 **IAM 역할(Role)**을 부여받아 S3나 EFS에 파일을 읽고 씁니다.
4. **사용자 인증:** 외부 인증 시스템을 통해 접속 권한을 확인합니다.

---

## 3. 엔드포인트 유형 및 보안 설정

시험에서 가장 자주 출제되는 부분입니다. 요구 사항에 맞는 엔드포인트 유형을 선택해야 합니다.

| 엔드포인트 유형 | 특징 | 보안 및 IP 특성 |
| --- | --- | --- |
| **퍼블릭 (Public)** | 인터넷을 통해 직접 접속 | AWS 관리 IP (변경될 수 있음). 특정 IP 필터링(White-list) 불가. |
| **VPC 내부 전용** | VPC 내부, VPN, Direct Connect를 통한 비공개 접속 | **고정 프라이빗 IP** 제공. 보안 그룹 및 Network ACL로 정밀한 접근 제어 가능. |
| **VPC 인터넷 연결 (Hybrid)** | 인터넷과 내부 접속 모두 지원 | **탄력적 IP(EIP)** 사용 가능 (고정 퍼블릭 IP). 보안 그룹으로 인터넷 소스 IP 제한 가능. |

### 핵심 요약: 왜 VPC 엔드포인트를 쓰는가?

> 일반 퍼블릭 엔드포인트는 IP가 유동적이고 방화벽(보안 그룹) 설정이 어렵지만, **VPC 기반 엔드포인트**를 사용하면 **고정 IP**를 확보하고 **보안 그룹**을 통해 특정 클라이언트만 접속하도록 허용 목록을 관리할 수 있기 때문입니다.

---

## 4. 주요 유스케이스

* **데이터 공유:** CRM, ERP 등 기존 시스템의 데이터를 S3/EFS와 연동.
* **퍼블릭 데이터 세트 배포:** 외부 파트너와 안전한 파일 교환.
* **레거시 마이그레이션:** 애플리케이션 코드를 수정하지 않고 프로토콜만 유지하며 클라우드 도입.
