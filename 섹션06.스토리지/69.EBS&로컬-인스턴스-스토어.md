## 1. Amazon EBS (Elastic Block Store)

EBS는 네트워크 드라이브로, 인스턴스가 중지되어도 데이터가 유지되는 **영구 저장소**입니다.

### **주요 특징**

* **연결성:** 기본적으로 한 번에 **하나의 AZ** 내에서 하나의 인스턴스에만 연결 가능 (Multi-Attach 예외).
* **AZ 이동:** 다른 AZ로 옮기려면 **[스냅샷 생성 → 타 AZ에서 복원]** 과정을 거쳐야 함.
* **유연성:** 용량 증설은 중단 없이 가능하지만, **용량 축소는 불가능**함.
* **성능 최적화:** 최대 처리량을 위해 'EBS 최적화(EBS-optimized) 인스턴스' 사용 권장.

### **EBS 볼륨 유형**

| 유형 | 이름 | 용도 및 특징 |
| --- | --- | --- |
| **범용 SSD** | **gp2 / gp3** | 가성비가 좋아 대부분의 워크로드에 적합. |
| **프로비저닝된 IOPS** | **io1 / io2** | 고성능, 저지연, 대규모 DB 등에 적합. |
| **처리량 최적화 HDD** | **st1** | 대용량 로그 처리, 데이터 웨어하우스 (순차 읽기). |
| **Cold HDD** | **sc1** | 낮은 비용 중심, 액세스 빈도가 낮은 데이터. |

> **참고:** OS 부팅 볼륨으로는 SSD 계열(gp, io)만 사용 가능합니다.

---

## 2. EBS 스냅샷 (Snapshot)

EBS 볼륨의 특정 시점 복사본으로, 백엔드에서 **S3**에 저장됩니다.

* **증분식 백업:** 변경된 블록만 저장하여 효율적임.
* **성능 영향:** 백업 중 I/O를 사용하므로 과부하된 서비스에서는 성능 저하 가능성 있음 (가급적 분리 후 스냅샷 권장).
* **DR(재해 복구):** 스냅샷을 다른 리전으로 복제하여 가용성을 높일 수 있음.
* **사전 예열 (Pre-warming):** 스냅샷에서 큰 볼륨을 복원하면 초기 성능이 낮음.
* **FSR (Fast Snapshot Restore):** 즉시 최대 성능을 내도록 지원하는 기능.
* **수동 방식:** `fio` 또는 `dd` 명령어로 전체 블록을 강제로 읽어 들임.



---

## 3. 백업 및 관리 도구

### **Amazon Data Lifecycle Manager (DLM)**

* EBS 스냅샷 및 AMI의 **생성/보존/삭제를 자동화**하는 정책 기반 서비스.
* 리소스 태그(예: `Environment: Prod`)를 기준으로 대상 식별.
* **한계:** DLM 외부에서 생성된 스냅샷이나 인스턴스 스토어 기반 AMI는 관리 불가.

### **AWS Backup vs. DLM**

* **DLM:** EBS 전용 자동화 도구.
* **AWS Backup:** EBS를 포함해 RDS, EFS 등 **여러 서비스를 통합 관리**하는 중앙 집중식 도구.

---

## 4. EBS 특수 기능

### **암호화 (Encryption)**

* 계정 및 리전 수준에서 **'기본 암호화 활성화'** 가능.
* 활성 시 모든 새 볼륨과 스냅샷이 자동으로 암호화됨.

### **EBS Multi-Attach (다중 연결)**

* **io1 / io2** 패밀리에서만 지원.
* **동일 AZ** 내의 여러 인스턴스가 하나의 EBS 볼륨에 동시 읽기/쓰기 가능.
* **클러스터 인식 파일 시스템** 필요 (예: 테라데이타, 일반적인 NTFS/EXT4는 부적합).

---

## 5. EC2 인스턴스 스토어 (Instance Store)

인스턴스가 실행되는 물리적 서버에 **직접 부착된 물리적 디스크**입니다.

* **휘발성(Ephemeral):** 인스턴스를 **중지(Stop)하거나 종료(Terminate)**하면 데이터가 영구 삭제됨. (재부팅 시에는 유지됨)
* **고성능:** 네트워크를 타지 않으므로 수백만 IOPS 구현 가능.
* **제한:** 크기 조정 불가, 물리적 장애 시 데이터 손실 위험.
* **용도:** 캐시, 버퍼, 임시 데이터, 복제된 NoSQL 데이터베이스 등.

---

## 6. EBS vs. 인스턴스 스토어 비교 요약

| 구분 | Amazon EBS | EC2 인스턴스 스토어 |
| --- | --- | --- |
| **유형** | 네트워크 드라이브 (가상) | 로컬 드라이브 (물리) |
| **지속성** | 영구적 (인스턴스 종료 후에도 유지 가능) | 임시적 (중지/종료 시 삭제) |
| **성능 (IOPS)** | 최대 256,000 (io2 Block Express) | **수백만 (매우 높음)** |
| **확장성** | 볼륨 크기 조정 가능 | 크기 고정 (조정 불가) |
| **백업** | 스냅샷 지원 | 수동 백업 메커니즘 구축 필요 |
