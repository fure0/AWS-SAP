## 1. S3 Storage Lens 개요

S3 Storage Lens는 AWS 조직 전체의 객체 스토리지 사용량과 활동에 대한 **가시성**을 제공하는 분석 솔루션입니다.

* **목적:** 이상 징후 발견, 비용 효율성 파악, 데이터 보호 모범 사례 적용.
* **집계 단위:** 조직(Organization) 수준, 특정 계정, 리전, 버킷 또는 **접두사(Prefix)** 단위.
* **데이터 출력:** 대시보드 시각화 및 리포트 내보내기(CSV, Parquet 형식으로 S3에 저장).

---

## 2. 주요 특징 및 대시보드

* **기본 대시보드 (Default Dashboard):** * AWS에서 사전 구성하여 제공하며 **삭제가 불가능**합니다(비활성화는 가능).
* 별도 설정 없이도 **여러 리전 및 여러 계정**의 데이터를 통합하여 보여줍니다.
* 총 저장 용량, 객체 수, 평균 객체 크기 등을 한눈에 확인 가능합니다.


* **중앙 집중식 관리:** UI에서 원하는 리전, 계정, 스토리지 클래스를 선택하여 필터링할 수 있습니다.

---

## 3. 메트릭 카테고리 및 사용 사례

시험에서 상황에 맞는 서비스를 선택할 때 가장 중요한 부분입니다.

| 카테고리 | 주요 메트릭 예시 | 주요 사용 사례 (Use Case) |
| --- | --- | --- |
| **요약 (Summary)** | Storage Bytes, Object Count | 가장 빠르게 성장하거나 사용되지 않는 버킷/접두사 식별 |
| **비용 최적화** | Non-current Version Bytes, Incomplete Multipart Upload Bytes | 불완전한 업로드 정리, 저렴한 스토리지 클래스로의 전환 검토 |
| **데이터 보호** | VersioningEnabledBucketCount, MFADeleteEnabled, SSE-KMS Enabled | 보안 모범 사례(암호화, 버전 관리)를 따르지 않는 버킷 식별 |
| **액세스 관리** | Object Ownership settings | 버킷의 객체 소유권 설정 현황 파악 |
| **이벤트 및 성능** | Event-conﬁgured buckets, Transfer Acceleration buckets | S3 이벤트 알림 및 전송 가속화 활성화 상태 확인 |
| **활동 (Activity)** | AllRequests, Get/Put/List Requests, BytesDownloaded | 버킷의 활동 패턴 분석 |
| **상태 코드** | 200 OK, 403 Forbidden Error Count | 오류 발생 빈도 및 버킷 사용 유형 파악 |

---

## 4. 서비스 등급 비교 (무료 vs 유료)

무료와 유료(고급)의 차이점을 명확히 구분하는 것이 중요합니다.

### **[무료 지표 (Free Metrics)]**

* **대상:** 모든 S3 고객에게 자동 제공.
* **범위:** 약 28개의 사용량 지표.
* **데이터 보존:** 14일 동안 조회 가능.

### **[고급 지표 및 권장 사항 (Advanced Metrics)]**

* **비용:** 유료 서비스.
* **추가 기능:** 활동(Activity), 고급 비용 최적화, 고급 데이터 보호, 상태 코드 메트릭 포함.
* **상세 분석:** S3 버킷 내 **접두사(Prefix) 수준**까지 메트릭 수집 가능.
* **데이터 보존:** **15개월** 동안 데이터 사용 가능.
* **CloudWatch 통합:** 메트릭을 CloudWatch로 퍼블리시하여 대시보드 구성 가능(추가 비용 없음).

---

## 💡 시험 대비 핵심 요약 (Key Takeaways)

1. **멀티 계정/리전 시야:** Storage Lens는 단일 계정이 아닌 **조직 전체**를 조망할 수 있는 중앙 집중식 툴입니다.
2. **비용 절감 도구:** '불완전한 멀티파트 업로드'나 '이전 버전'이 차지하는 용량을 찾아내는 데 탁월합니다.
3. **규정 준수 확인:** 얼마나 많은 객체가 암호화되어 있는지, 버전 관리가 켜져 있는지 등을 한 번에 계산할 수 있습니다.
4. **수준 차이:** 무료는 14일/기본 지표, 유료는 15개월/접두사 수준/상태 코드까지 지원함을 기억하세요.
