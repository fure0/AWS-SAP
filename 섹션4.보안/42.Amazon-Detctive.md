## 🔍 Amazon Detective 개요

Amazon Detective는 보안 분석 서비스로, 보안 위협이 발생했을 때 **"왜(Why)"** 그리고 **"어떻게(How)"** 발생했는지 그 **근본 원인(Root Cause)**을 신속하게 분석할 수 있도록 돕는 도구입니다.

### 1. 보안 분석의 페인 포인트 (Pain Points)

GuardDuty나 Macie 같은 서비스가 위협을 감지(Finding)하더라도, 실제 대응을 위해서는 다음과 같은 어려움이 따릅니다.

* **복잡성:** 여러 소스의 데이터를 일일이 대조하고 연계해야 함.
* **시간 소모:** 수작업 분석은 시간이 오래 걸리며, 그동안 보안 공백이 유지됨.
* **전문성 요구:** 수많은 로그 사이에서 유의미한 상관관계를 찾기 어려움.

### 2. Amazon Detective의 핵심 기능 및 특징

이러한 문제를 해결하기 위해 Detective는 다음과 같은 방식을 사용합니다.

* **자동 데이터 수집:** 사용자가 직접 로그를 파싱할 필요 없이, AWS의 주요 보안 로그를 자동으로 수집하고 처리합니다.
* **그래프 모델 기반 분석:** 백엔드에서 **머신러닝과 그래프 이론**을 활용하여 개체(IP, IAM 사용자, EC2 등) 간의 관계를 시각화합니다.
* **신속한 조사:** 보안 이슈의 발원지와 확산 경로를 빠르게 식별하여 대응 시간을 단축합니다.

---

## 🛠 작동 원리 및 데이터 소스

Amazon Detective는 별도의 설정 없이 다음의 핵심 서비스들로부터 이벤트를 자동으로 수집하여 **통합된 뷰(Unified View)**를 생성합니다.

| 데이터 소스 | 설명 |
| --- | --- |
| **VPC Flow Logs** | 네트워크 트래픽 패턴 및 통신 기록 분석 |
| **AWS CloudTrail** | API 호출 및 계정 내 활동 내역 추적 |
| **Amazon GuardDuty** | 감지된 위협 결과(Findings)를 기반으로 세부 조사 수행 |

---

## 💡 요약 및 결론

> **"GuardDuty가 '도둑이 들었다'고 알려준다면, Amazon Detective는 '도둑이 어느 문으로 들어와서 무엇을 건드리고 어디로 나갔는지'를 보여주는 형사 역할을 합니다."**

* **용도:** 보안 이슈의 근본 원인 분석 및 조사 (Root Cause Analysis).
* **장점:** 복잡한 로그 연계 작업 자동화, 맥락(Context) 중심의 시각화된 정보 제공.