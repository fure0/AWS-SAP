## 1. ASG ë™ì  ìŠ¤ì¼€ì¼ë§ ì •ì±… (Dynamic Scaling)

ìƒí™©ì— ë”°ë¼ ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ë¥¼ ìžë™ìœ¼ë¡œ ì¡°ì ˆí•˜ëŠ” ì„¸ ê°€ì§€ ì£¼ìš” ë°©ì‹ìž…ë‹ˆë‹¤.

| ì •ì±… ì¢…ë¥˜ | íŠ¹ì§• | ìž‘ë™ ë°©ì‹ |
| --- | --- | --- |
| **ëŒ€ìƒ ì¶”ì  (Target Tracking)** | ê°€ìž¥ ë‹¨ìˆœí•˜ê³  ì„¤ì •ì´ ì‰¬ì›€ | íŠ¹ì • ì§€í‘œ(ì˜ˆ: í‰ê·  CPU 40%)ë¥¼ ì„¤ì •í•˜ë©´ ASGê°€ ì´ ìˆ˜ì¹˜ë¥¼ ìœ ì§€í•˜ë„ë¡ ì•Œì•„ì„œ ì¡°ì ˆ |
| **ë‹¨ê³„ ìŠ¤ì¼€ì¼ë§ (Step Scaling)** | ì„¸ë°€í•œ ì œì–´ ê°€ëŠ¥ | CloudWatch ê²½ë³´ì— ë”°ë¼ ë‹¨ê³„ë³„ë¡œ ëŒ€ì‘ (ì˜ˆ: CPU > 70%ë©´ 2ê°œ ì¶”ê°€, < 30%ë©´ 1ê°œ ì œê±°) |
| **ì˜ˆì•½ëœ ìž‘ì—… (Scheduled Actions)** | ì‹œê°„ ê¸°ë°˜ ì˜ˆì¸¡ ê°€ëŠ¥ | íŠ¹ì • ì‹œê°„ëŒ€(ì˜ˆ: ê¸ˆìš”ì¼ ì˜¤í›„ 5ì‹œ ì„¸ì¼)ì— ë§žì¶° ìµœì†Œ ìš©ëŸ‰ì„ ë¯¸ë¦¬ ëŠ˜ë ¤ë‘  |

### ðŸ’¡ ì˜ˆì¸¡ ìŠ¤ì¼€ì¼ë§ (Predictive Scaling)

AWSê°€ ê³¼ê±° ë¡œë“œ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ **ë¯¸ëž˜ì˜ íŠ¸ëž˜í”½ íŒ¨í„´ì„ ì˜ˆì¸¡**í•˜ê³ , í•„ìš”í•œ ì¸ìŠ¤í„´ìŠ¤ ì–‘ì„ ë¯¸ë¦¬ ì„¤ì •í•˜ëŠ” ì§€ëŠ¥í˜• ë°©ì‹ìž…ë‹ˆë‹¤. (ë§¤ì¼/ë§¤ì£¼ ë°˜ë³µ íŒ¨í„´ì´ ìžˆëŠ” ê²½ìš° íš¨ê³¼ì )

---

## 2. ìŠ¤ì¼€ì¼ë§ì— ì í•©í•œ ì£¼ìš” ì§€í‘œ (Metrics)

* **CPUUtilization**: ê°€ìž¥ ì¼ë°˜ì ì¸ ì§€í‘œ
* **RequestCountPerTarget**: ì¸ìŠ¤í„´ìŠ¤ë‹¹ ìš”ì²­ ìˆ˜ (ì˜ˆ: ì¸ìŠ¤í„´ìŠ¤ë‹¹ 1,000ê°œ ìš”ì²­ ìœ ì§€)
* **Average Network In/Out**: ë¹„ë””ì˜¤ ì—…/ë‹¤ìš´ë¡œë“œ ë“± ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ê°€ í° ì„œë¹„ìŠ¤ì— ì í•©
* **Custom Metrics**: CloudWatchë¥¼ í†µí•´ ì‚¬ìš©ìžê°€ ì§ì ‘ ì •ì˜í•œ ì§€í‘œ

---

## 3. ASG ì£¼ìš” ê³ ê¸‰ ê¸°ëŠ¥

### â‘  ìŠ¤íŒŸ í”Œë¦¿(Spot Fleet) ì§€ì›

* ë¹„ìš© ì ˆê°ì„ ìœ„í•´ **ì˜¨ë””ë§¨ë“œ ì¸ìŠ¤í„´ìŠ¤**ì™€ **ìŠ¤íŒŸ ì¸ìŠ¤í„´ìŠ¤**ë¥¼ í˜¼í•©í•˜ì—¬ êµ¬ì„±í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### â‘¡ ìˆ˜ëª… ì£¼ê¸° í›„í¬ (Lifecycle Hooks)

* ì¸ìŠ¤í„´ìŠ¤ê°€ ì‹œìž‘ë˜ê±°ë‚˜ ì¢…ë£Œë˜ê¸° ì§ì „ì— **íŠ¹ì • ìž‘ì—…(ë¡œê·¸ ì¶”ì¶œ, ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰, ìƒíƒœ í™•ì¸ ë“±)**ì„ ìˆ˜í–‰í•  ìˆ˜ ìžˆë„ë¡ ìž ì‹œ ë©ˆì¶°ì£¼ëŠ” ê¸°ëŠ¥ìž…ë‹ˆë‹¤.

### â‘¢ EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒˆë¡œê³ ì¹¨ (Instance Refresh)

* AMIë‚˜ ì‹œìž‘ í…œí”Œë¦¿ ì—…ë°ì´íŠ¸ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.
* **ìµœì†Œ ì •ìƒ ìƒíƒœ í¼ì„¼íŠ¸(Min healthy percentage)**ë¥¼ ì§€ì •í•˜ì—¬ ì „ì²´ê°€ í•œ ë²ˆì— êµì²´ë˜ì§€ ì•Šë„ë¡ **ë¡¤ë§ ì—…ë°ì´íŠ¸**ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
* ìƒˆ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” **ì›Œë°ì—… ì‹œê°„** ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## 4. ASG ë‚´ë¶€ í”„ë¡œì„¸ìŠ¤ (Processes)

ASGëŠ” ì—¬ëŸ¬ ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤ë¡œ ìš´ì˜ë˜ë©°, í•„ìš” ì‹œ íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë§Œ **ìœ ì˜ˆ(Suspend)**í•˜ì—¬ ë””ë²„ê¹…í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

* **Launch / Terminate**: ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€ ë° ì œê±°
* **HealthCheck**: ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ ì ê²€
* **ReplaceUnhealthy**: ë¹„ì •ìƒ ì¸ìŠ¤í„´ìŠ¤ êµì²´
* **AZRebalance**: ê°€ìš© ì˜ì—­(AZ) ê°„ ì¸ìŠ¤í„´ìŠ¤ ê· í˜• ìœ ì§€
* **AlarmNotification**: CloudWatch ì•ŒëžŒ ìˆ˜ì‹ 
* **ScheduledActions**: ì˜ˆì•½ëœ ìŠ¤ì¼€ì¼ë§ ìˆ˜í–‰
* **AddToLoadBalancer**: ë¡œë“œ ë°¸ëŸ°ì„œ/ëŒ€ìƒ ê·¸ë£¹ì— ì¸ìŠ¤í„´ìŠ¤ ë“±ë¡
* **InstanceRefresh**: ì „ì²´ ì¸ìŠ¤í„´ìŠ¤ ìˆœì°¨ ì—…ë°ì´íŠ¸ ìˆ˜í–‰

---

## 5. ìƒíƒœ í™•ì¸ (Health Checks) ì„¤ê³„ ê°€ì´ë“œ

ASGê°€ ì¸ìŠ¤í„´ìŠ¤ì˜ 'ìƒì‚¬'ë¥¼ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ì´ë¯€ë¡œ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

### ìƒíƒœ í™•ì¸ì˜ ì¢…ë¥˜

1. **EC2 ìƒíƒœ í™•ì¸**: í•˜ë“œì›¨ì–´ ë° ì‹œìŠ¤í…œ ìˆ˜ì¤€ ì ê²€
2. **ELB ìƒíƒœ í™•ì¸**: HTTP ê¸°ë°˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ë‹µ í™•ì¸

### âœ… ì¢‹ì€ ì„¤ê³„ vs âŒ ë‚˜ìœ ì„¤ê³„

* **Good**: ê°€ë²¼ìš´ ê²½ë¡œ ì²´í¬ (ì˜ˆ: `/health-server`)
* ë‹¨ìˆœížˆ ì„œë²„ê°€ ì‚´ì•„ìžˆëŠ”ì§€ ì‘ë‹µë§Œ í™•ì¸.


* **Bad**: ë¬´ê±°ìš´ ìž‘ì—… í¬í•¨ (ì˜ˆ: `/number-customers`)
* ìƒíƒœ í™•ì¸ ì‹œë§ˆë‹¤ DBë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ë³µìž¡í•œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´, DB ì§€ì—° ì‹œ ë©€ì©¡í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ ë¹„ì •ìƒìœ¼ë¡œ ê°„ì£¼ë˜ì–´ ì‚­ì œë  ìœ„í—˜ì´ ìžˆìŒ.
