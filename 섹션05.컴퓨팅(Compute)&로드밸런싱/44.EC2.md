## 1. EC2 인스턴스 패밀리 (Instance Types)

워크로드의 특성에 따라 최적의 인스턴스 타입을 선택하는 것이 비용 절감과 성능 최적화의 핵심입니다.

| 패밀리 | 특징 | 주요 워크로드 |
| --- | --- | --- |
| **R** (RAM) | 높은 메모리 용량 | 인메모리 캐시, 대용량 DB |
| **C** (Compute) | 높은 CPU 성능 | 연산 집중형 앱, 데이터베이스 |
| **M** (Medium) | 컴퓨팅/메모리/네트워크 균형 | 일반적인 웹 애플리케이션 |
| **I** (I/O) | 로컬 NVMe 스토리지(인스턴스 스토어) | 고성능 DB, NoSQL |
| **G** (GPU) | 그래픽 가속 및 하드웨어 가속 | 머신러닝, 비디오 렌더링 |
| **T2/T3** | 버스터블(Burstable) 성능 | 평소엔 기본 성능, 필요 시 성능 폭증(Burst) |

> **Tip:** [ec2instances.info](https://www.ec2instances.info) 사이트를 통해 상세 스펙 비교가 가능합니다.

---

## 2. EC2 배치 그룹 (Placement Groups)

인스턴스가 물리적 하드웨어에 배치되는 전략을 결정합니다.

### ① 클러스터 (Cluster)

* **특징:** 단일 가용 영역(AZ) 내의 동일 랙에 인스턴스 배치.
* **장점:** 매우 낮은 네트워크 레이턴시, 높은 대역폭(최대 10Gbps).
* **단점:** 하드웨어 고장 시 그룹 내 인스턴스 동시 장애 위험.
* **용도:** HPC(고성능 연산), 빅데이터 분석.

### ② 스프레드 (Spread)

* **특징:** 각 인스턴스를 서로 다른 물리적 랙에 분산 배치.
* **제한:** AZ당 **최대 7개** 인스턴스만 가능.
* **장점:** 개별 인스턴스 장애가 다른 인스턴스에 영향을 주지 않음(고가용성).
* **용도:** 크리티컬한 개별 애플리케이션 서버.

### ③ 파티션 (Partition)

* **특징:** 인스턴스를 논리적 파티션으로 나누고 랙을 공유하지 않게 배치.
* **장점:** 수백 개의 인스턴스 수용 가능. 파티션 단위 고립.
* **용도:** Hadoop, Cassandra, Kafka 등 분산 데이터 처리.

> **수정 방법:** 인스턴스를 **정지(Stop)**한 후 CLI를 통해 배치 그룹 설정을 변경하고 다시 **시작(Start)**해야 합니다.

---

## 3. 구매 옵션 및 라이선스

* **On-Demand:** 단기 워크로드, 비용 예측 가능.
* **Spot:** 최대 90% 할인. 언제든 중단될 수 있음(내결함성 필수).
* **Reserved(RI):** 1년/3년 약정. 장기 워크로드. (Convertible RI는 유형 변경 가능)
* **Dedicated Host:** 물리 서버 전체 점유. 특정 라이선스(BYOL) 필요 시 사용. 호스트 어피니티(Affinity) 설정 가능.

---

## 4. Graviton 프로세서 (ARM 기반)

* **특징:** 가성비(Price/Performance)가 매우 뛰어남.
* **성능:** Graviton3는 2 대비 성능 3배 향상.
* **지원:** Linux 계열 전용 (**Windows 지원 불가**).
* **용도:** 마이크로서비스, 앱 서버, 비디오 인코딩 등.

---

## 5. 모니터링 및 메트릭 (CloudWatch)

AWS에서 기본 제공하는 메트릭과 직접 설정해야 하는 것을 구분해야 합니다.

* **기본 제공:** CPU 활용도, 네트워크(In/Out), 상태 체크(Instance/System), 디스크(인스턴스 스토어인 경우만).
* **사용자 정의 (Custom):** **RAM(메모리) 사용량**은 기본 메트릭이 아니므로 에이전트를 통해 직접 푸시해야 합니다.

---

## 6. EC2 인스턴스 복구 (Recovery)

하드웨어 등의 문제로 시스템 상태 체크에 실패했을 때 자동 복구 기능을 사용할 수 있습니다.

1. **설정:** CloudWatch 알람을 생성하여 '시스템 상태 체크 실패' 감지.
2. **액션:** **'EC2 인스턴스 복구(Recover)'** 액션 정의.
3. **유지되는 항목:** 프라이빗/퍼블릭/탄력적 IP, 메타데이터, 배치 그룹.
4. **추가 액션:** SNS를 연동해 관리자(Slack 등)에게 알림 가능.
