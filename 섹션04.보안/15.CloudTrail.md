## âš ï¸ AWS CloudTrail í•µì‹¬ ìš”ì•½

### 1. ê°œìš” ë° íŠ¹ì§•

* **ëª©ì **: ê±°ë²„ë„ŒìŠ¤, ì»´í”Œë¼ì´ì–¸ìŠ¤ ì¤€ìˆ˜, ì‘ì—… ê°ì‚¬ ë° ë¦¬ìŠ¤í¬ ë¶„ì„.
* **ê¸°ëŠ¥**: AWS ê³„ì • ë‚´ì—ì„œ ë°œìƒí•œ **ëª¨ë“  API í˜¸ì¶œ ì´ë ¥**ì„ ê¸°ë¡ (ì½˜ì†”, SDK, CLI, íƒ€ ì„œë¹„ìŠ¤ì— ì˜í•œ ì•¡ì…˜ ë“±).
* **ê¸°ë³¸ ì„¤ì •**: ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©°, ìµœê·¼ **90ì¼ê°„ì˜ ì´ë²¤íŠ¸** ê¸°ë¡ì„ ë³´ê´€í•©ë‹ˆë‹¤.
* **ì €ì¥ ë° í†µí•©**:
  * **S3**: ì¥ê¸° ë³´ê´€ì„ ìœ„í•´ ë¡œê·¸ ì „ì†¡.
  * **CloudWatch Logs**: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì„¤ì •.
  * **Athena**: S3ì— ì €ì¥ëœ ë¡œê·¸ë¥¼ SQL ì¿¼ë¦¬ë¡œ ë¶„ì„.



---

### 2. CloudTrail 3ê°€ì§€ ì´ë²¤íŠ¸ ìœ í˜•

CloudTrailì€ ê¸°ë¡í•˜ëŠ” ë°ì´í„°ì˜ ì„±ê²©ì— ë”°ë¼ ì„¸ ê°€ì§€ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.

| ì´ë²¤íŠ¸ ìœ í˜• | ì„¤ëª… | ì£¼ìš” ì˜ˆì‹œ | ë¹„ê³  |
| --- | --- | --- | --- |
| **ê´€ë¦¬ ì´ë²¤íŠ¸** (Management Events) | ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ìˆ˜í–‰ë˜ëŠ” **ê´€ë¦¬ ì‘ì—…** | EC2 ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ, ì„œë¸Œë„· ìƒì„±, IAM ì •ì±… ì—°ê²° | **ê¸°ë³¸ ë¡œê¹…ë¨** (ì½ê¸°/ì“°ê¸° êµ¬ë¶„ ê°€ëŠ¥) |
| **ë°ì´í„° ì´ë²¤íŠ¸** (Data Events) | ë¦¬ì†ŒìŠ¤ **ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ê³ ëŸ‰ì˜ ì‘ì—…** | S3 ê°ì²´ ìˆ˜ì¤€ í™œë™(Get/Put/Delete), Lambda í•¨ìˆ˜ ì‹¤í–‰ | **ê¸°ë³¸ ë¹„í™œì„±** (ë³„ë„ ì„¤ì • í•„ìš”, ì¶”ê°€ ë¹„ìš©) |
| **ì¸ì‚¬ì´íŠ¸ ì´ë²¤íŠ¸** (Insights Events) | ê³„ì • ë‚´ **ë¹„ì •ìƒì  íŒ¨í„´** íƒì§€ | API í˜¸ì¶œëŸ‰ ê¸‰ì¦, ë¦¬ì†ŒìŠ¤ í”„ë¡œë¹„ì €ë‹ ì˜¤ë¥˜ | **ë³„ë„ í™œì„±í™” í•„ìš”** (ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ë¶„ì„) |

---

### 3. CloudTrail ì¸ì‚¬ì´íŠ¸ (Insights)

ë§¤ìš° ë§ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ "ë¬´ì—‡ì´ ë¹„ì •ìƒì¸ê°€?"ë¥¼ íŒë‹¨í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

* **ë™ì‘ ì›ë¦¬**: ì •ìƒì ì¸ ê´€ë¦¬ í™œë™ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ **ê¸°ì¤€ì„ (Baseline)**ì„ ìƒì„±í•©ë‹ˆë‹¤.
* **íƒì§€ ëŒ€ìƒ**:
  * ë¶€ì •í™•í•œ ë¦¬ì†ŒìŠ¤ í”„ë¡œë¹„ì €ë‹.
  * ì„œë¹„ìŠ¤ í•œë„ ë„ë‹¬ ë° IAM ì•¡ì…˜ í­ì¦.
  * ì£¼ê¸°ì  ìœ ì§€ë³´ìˆ˜ í™œë™ì˜ ëˆ„ë½.


* **ì•Œë¦¼ ë° í›„ì† ì¡°ì¹˜**: ì¸ì‚¬ì´íŠ¸ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì½˜ì†”ì— í‘œì‹œë˜ë©°, **EventBridge**ë¥¼ í†µí•´ ìë™ ì´ë©”ì¼ ë°œì†¡ ë“± ìë™í™”ëœ ëŒ€ì‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

### 4. ë¡œê·¸ ë³´ê´€ ë° ë¶„ì„ ì „ëµ

ì‹œí—˜ì—ì„œ ìì£¼ ë¬»ëŠ” ë¡œê·¸ ê´€ë¦¬ íŒ¨í„´ì…ë‹ˆë‹¤.

* **90ì¼ ì´ë‚´**: CloudTrail ì½˜ì†” ë‚´ 'ì´ë²¤íŠ¸ ê¸°ë¡'ì—ì„œ ì¦‰ì‹œ í™•ì¸ ê°€ëŠ¥.
* **ì¥ê¸° ë³´ê´€(90ì¼ ì´ˆê³¼)**: **S3 ë²„í‚·**ìœ¼ë¡œ ë¡œê·¸ ì „ì†¡ ì„¤ì • í•„ìˆ˜.
* **ë¡œê·¸ ë¶„ì„**:
  1. CloudTrail ë¡œê·¸ë¥¼ S3ì— ì €ì¥.
  2. **Amazon Athena**ë¥¼ ì‚¬ìš©í•˜ì—¬ S3ì˜ ì›ì‹œ ë¡œê·¸ ë°ì´í„°ë¥¼ SQLë¡œ ì¿¼ë¦¬.
  3. ëˆ„ê°€, ì–¸ì œ, ë¬´ì—‡ì„ í–ˆëŠ”ì§€ ìƒì„¸íˆ ì¶”ì .



---

> **ğŸ’¡ í•µì‹¬ ì•”ê¸° í¬ì¸íŠ¸**
> * "ëˆ„ê°€ EC2ë¥¼ ì‚­ì œí–ˆë‚˜?" â†’ **CloudTrail**
> * "S3 ê°ì²´ ì‚­ì œ ê¸°ë¡ì„ ë³´ê³  ì‹¶ë‹¤" â†’ **CloudTrail ë°ì´í„° ì´ë²¤íŠ¸**
> * "í‰ì†Œë³´ë‹¤ API í˜¸ì¶œì´ ë„ˆë¬´ ë§ì€ë°?" â†’ **CloudTrail ì¸ì‚¬ì´íŠ¸**
> * "1ë…„ ì „ ë¡œê·¸ë¥¼ ë¶„ì„í•˜ê³  ì‹¶ë‹¤" â†’ **CloudTrail + S3 + Athena**