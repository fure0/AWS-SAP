## 1. DDoS 공격의 이해

**DDoS(Distributed Denial of Service, 분산 서비스 거부)** 공격은 다수의 좀비 PC(Bot)를 이용해 타겟 서버에 비정상적인 트래픽을 폭주시킴으로써, 정당한 사용자가 서비스를 이용하지 못하게 만드는 공격입니다.

### 주요 공격 유형

| 유형 | 구분 | 설명 |
| --- | --- | --- |
| **SYN Flood** | L4 (전송 계층) | 과도한 TCP 연결 요청을 보내 서버의 연결 자원을 고갈시킴 |
| **UDP Reflection** | L4 (전송 계층) | 타 서버를 이용해 대량의 UDP 응답을 타겟 서버로 반사시켜 대역폭 점유 |
| **DNS Flood** | L4/L7 | DNS 서버를 마비시켜 사용자가 도메인을 IP로 변환하지 못하게 함 |
| **Slow Loris** | L7 (앱 계층) | HTTP 연결을 아주 천천히 유지하며 서버의 스레드를 모두 점유 |
| **Cache Bursting** | L7 (앱 계층) | 캐시를 무효화하는 요청을 보내 백엔드 DB에 직접적인 부하 유발 |
| **Application Layer** | L7 (앱 계층) | 앱의 특정 로직이나 보안 허점을 이용한 복잡하고 구체적인 공격 |

---

## 2. AWS의 DDoS 방어 핵심 서비스

### ① AWS Shield

AWS에서 제공하는 관리형 DDoS 방어 서비스입니다.

* **Shield Standard (기본형)**:
  * **비용**: 무료 (모든 고객 자동 적용)
  * **범위**: 일반적인 L3, L4 공격(SYN Flood, UDP Flood 등) 방어


* **Shield Advanced (고급형)**:
  * **비용**: 조직당 월 $3,000 (엔터프라이즈 권장)
  * **특징**: 24/7 DDoS 대응팀(DRT) 지원, 정교한 공격 가시성 제공
  * **경제적 혜택**: 공격으로 인한 Auto Scaling 비용 폭증 시 **비용 보호(보험 역할)** 제공



### ② AWS WAF (Web Application Firewall)

* **역할**: L7(애플리케이션 계층)의 악성 요청을 필터링.
* **기능**: 특정 규칙(예: 요청 크기 5MB 제한, 특정 IP 차단 등)을 설정하여 웹 공격 방어 및 DDoS 완화 보조.

### ③ Edge 서비스 (CloudFront & Route 53)

* **분산 방어**: 전 세계 엣지 로케이션을 통해 트래픽을 분산 수용하여 가용성 보호.
* **엣지 완화**: 공격 트래픽이 코어 애플리케이션(EC2, ALB 등)에 도달하기 전 엣지 네트워크에서 즉시 차단.

---

## 3. DDoS 방어를 위한 아키텍처 전략

1. **가장자리(Edge) 보호**: **Route 53**과 **CloudFront**를 전면에 배치하여 Shield Standard의 기본 보호를 받고, 트래픽을 분산합니다.
2. **애플리케이션 계층 보호**: CloudFront에 **WAF**를 결합하여 비정상적인 HTTP 요청을 사전에 필터링합니다.
3. **탄력성 확보**: **Auto Scaling**을 구성하여 공격으로 인한 CPU 부하 시 서버를 자동으로 증설합니다. (서비스 가용성 유지)
4. **리소스 분리**: 정적 콘텐츠는 **S3**와 **CloudFront**를 통해 서빙하여, 공격이 직접적인 EC2/ALB 서버에 집중되는 것을 방지합니다.

---

## 4. 요약 및 시험 포인트

* **기본 방어**: 모든 고객은 Shield Standard를 통해 L3/L4 보호를 받음.
* **고급 방어**: 24/7 지원 및 비용 보호가 필요하면 Shield Advanced 선택.
* **L7 공격**: WAF를 사용하여 애플리케이션 수준의 정교한 공격 차단.
* **전략**: 엣지 서비스(CloudFront) 활용과 Auto Scaling을 통한 인프라 탄력성 확보가 핵심.