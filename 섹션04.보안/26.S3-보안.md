## π” 1. S3 λ°μ΄ν„° μ•”νΈν™” (Encryption)

S3 μ•”νΈν™”λ” ν¬κ² **μ €μ¥ μ‹ μ•”νΈν™”(At Rest)**μ™€ **μ „μ†΅ μ¤‘ μ•”νΈν™”(In Transit)**λ΅ λ‚λ‰©λ‹λ‹¤.

### 1-1. μ €μ¥ μ‹ μ•”νΈν™” (Server-Side Encryption)

| λ°©μ‹ | κ΄€λ¦¬ μ£Όμ²΄ | νΉμ§• λ° μ¥μ  |
| --- | --- | --- |
| **SSE-S3** | AWS κ΄€λ¦¬ | AWSμ—μ„ λ¨λ“  ν‚¤λ¥Ό κ΄€λ¦¬ν•λ©° κ°€μ¥ κ°„νΈν•κ² μ‚¬μ© κ°€λ¥ (AES-256). |
| **SSE-KMS** | μ‚¬μ©μ + AWS | **CloudTrail κ°μ‚¬ κ°€λ¥**: λ¨λ“  API νΈμ¶ κΈ°λ΅μ΄ λ‚¨μ.<br><br>**λ³΄μ• κ°•ν™”**: κ°μ²΄κ°€ κ³µκ°(Public)λμ–΄λ„ KMS κ¶ν•μ΄ μ—†λ” μµλ… μ‚¬μ©μλ” λ³µνΈν™” λ¶κ°€. |
| **SSE-C** | μ‚¬μ©μ κ΄€λ¦¬ | μ‚¬μ©μκ°€ μ•”νΈν™” ν‚¤λ¥Ό μ§μ ‘ κ΄€λ¦¬ν•μ§€λ§, μ•”νΈν™” μ‘μ—… μμ²΄λ” S3 μ„λ²„μ—μ„ μν–‰. (HTTPS ν•„μ) |

> **π’΅ SSE-KMS μ—…λ΅λ“ μ‹ ν•„μ κ¶ν•:** `kms:GenerateDataKey` κ¶ν•κ³Ό IAM μ •μ±… κ¶ν•μ΄ λ°λ“μ‹ μμ–΄μ•Ό ν•©λ‹λ‹¤.

### 1-2. ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ•”νΈν™” (Client-Side Encryption)

* μ‚¬μ©μκ°€ λ°μ΄ν„°λ¥Ό S3μ— λ³΄λ‚΄κΈ° μ „, λ΅μ»¬ ν™κ²½μ—μ„ μ§μ ‘ μ•”νΈν™”/λ³µνΈν™”λ¥Ό μν–‰ν•©λ‹λ‹¤.

### 1-3. Amazon Glacier μ•”νΈν™”

* λ¨λ“  λ°μ΄ν„°λ” κΈ°λ³Έμ μΌλ΅ **AES-256**μΌλ΅ μλ™ μ•”νΈν™”λλ©°, ν‚¤λ” AWSκ°€ κ΄€λ¦¬ν•©λ‹λ‹¤.

### 1-4. μ „μ†΅ μ¤‘ μ•”νΈν™” (Encryption in Transit)

* **μ—”λ“ν¬μΈνΈ**: HTTP(λΉ„μ•”νΈν™”)μ™€ HTTPS(μ•”νΈν™”)λ¥Ό λ¨λ‘ μ κ³µν•μ§€λ§, **HTTPS(SSL/TLS)**κ°€ κ¶μ¥λ©λ‹λ‹¤.
* **κ°•μ  λ°©λ²•**: λ²„ν‚· μ •μ±…μ—μ„ `aws:SecureTransport` μ΅°κ±΄μ΄ `false`μΌ λ• κ±°λ¶€(`Deny`)ν•λ„λ΅ μ„¤μ •ν•©λ‹λ‹¤.

---

## π“ 2. λ΅κΉ… λ° μ΄λ²¤νΈ μ•λ¦Ό

### 2-1. S3 μ•΅μ„Έμ¤ λ΅κ·Έ (Access Logs)

* λ²„ν‚·μ— λ€ν• λ¨λ“  μ”μ²­ μƒμ„Έ κΈ°λ΅μ„ λ‹¤λ¥Έ λ²„ν‚·μ— μ €μ¥ν•©λ‹λ‹¤.
* **μ£Όμ**: μ „λ‹¬κΉμ§€ λ‡ μ‹κ°„μ΄ κ±Έλ¦΄ μ μμΌλ©°, 100% μ™„μ „μ„±μ„ λ³΄μ¥ν•μ§€ μ•λ” 'Best Effort' λ°©μ‹μ…λ‹λ‹¤.

### 2-2. S3 μ΄λ²¤νΈ μ•λ¦Ό (Event Notifications)

* κ°μ²΄ μƒμ„±, μ‚­μ , λ³µμ›, λ³µμ  μ‹ μ•λ¦Όμ„ μƒμ„±ν•©λ‹λ‹¤.
* **λ€μƒ**: SNS, SQS, Lambda ν•¨μ.
* **μ„±λ¥**: λ³΄ν†µ μμ΄ λ‚΄ μ „λ‹¬λλ‚ 1~2λ¶„ μ†μ”λ  μ μμµλ‹λ‹¤.
* **λ²„μ „ κ΄€λ¦¬**: ν™μ„±ν™” μ‹ λ¨λ“  κ°μ²΄ μ‘μ—…μ— μ•λ¦Όμ΄ κ°€μ§€λ§, λΉ„ν™μ„±ν™” μ‹ λ™μ‹ μ“°κΈ° μ‘μ—…μ— λ€ν•΄ μ•λ¦Όμ΄ λ„λ½λ  μ μμµλ‹λ‹¤.

---

## π›΅οΈ 3. S3 μ•΅μ„Έμ¤ μ μ–΄ (Access Control)

### 3-1. μ •μ±… μΆ…λ¥

1. **IAM μ •μ±…**: μ‚¬μ©μ κΈ°λ° κ¶ν• κ΄€λ¦¬.
2. **λ²„ν‚· μ •μ±… (Bucket Policy)**: λ¦¬μ†μ¤ κΈ°λ° κ¶ν• κ΄€λ¦¬. **κµμ°¨ κ³„μ •(Cross-account) μ•΅μ„Έμ¤** μ„¤μ • μ‹ λ§¤μ° μ μ©ν•©λ‹λ‹¤.
3. **ACL (Access Control List)**: κ°μ²΄/λ²„ν‚· λ‹¨μ„μ μ„Έλ¶„ν™”λ μ μ–΄μ΄λ‚, μµκ·Όμ—λ” λ²„ν‚· μ •μ±… μ‚¬μ©μ„ κ¶μ¥ν•©λ‹λ‹¤.

### 3-2. λ²„ν‚· μ •μ±…μ μ£Όμ” μ΅°κ±΄ (Conditions)

* `SourceIp`: νΉμ • κ³µμ© IP λ€μ—­μ—μ„λ§ μ•΅μ„Έμ¤ ν—μ©.
* `VpcSourceIp`: VPC μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•λ” κ²½μ° ν”„λΌμ΄λΉ— IP μ΅°κ±΄ λ¶€μ—¬ κ°€λ¥.
* `aws:SourceVpce` / `aws:SourceVpc`: νΉμ • VPC λλ” VPC μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄μ„λ§ μ ‘κ·Ό κ°€λ¥ν•λ„λ΅ μ ν•.
* `CloudFront Origin Access Identity (OAI/OAC)`: CloudFront λ°°ν¬λ¥Ό ν†µν•΄μ„λ§ S3μ— μ ‘κ·Όν•λ„λ΅ μ ν•.
* `Multi-Factor Authentication (MFA)`: μ‚­μ  λ“± λ―Όκ° μ‘μ—… μ‹ MFA μ”κµ¬.

---

## π”— 4. λ―Έλ¦¬ μ„λ…λ URL (Pre-signed URLs)

* **μ©λ„**: IAM κ¶ν•μ΄ μ—†λ” μ‚¬μ©μμ—κ² νΉμ • κ°μ²΄μ— λ€ν• μ„μ‹ μ—…λ΅λ“(PUT) λλ” λ‹¤μ΄λ΅λ“(GET) κ¶ν• λ¶€μ—¬.
* **νΉμ§•**: URLμ„ μƒμ„±ν• μ‚¬λμ κ¶ν•μ„ κ·Έλ€λ΅ λ¬Όλ ¤λ°›μΌλ©°, `Expires-in` λ§¤κ°λ³€μλ΅ μ ν¨ μ‹κ°„μ„ μ„¤μ •ν•©λ‹λ‹¤.
* **μ‚¬λ΅€**: ν”„λ¦¬λ―Έμ—„ λΉ„λ””μ¤ μ λ£ νμ› λ‹¤μ΄λ΅λ“, μ„μ‹ μ—…λ΅λ“ λ§ν¬ μ κ³µ λ“±.

---

## π 5. VPC μ—”λ“ν¬μΈνΈ κ²μ΄νΈμ›¨μ΄ (VPC Endpoint)

* **κΈ°λ¥**: EC2 μΈμ¤ν„΄μ¤κ°€ νΌλΈ”λ¦­ μΈν„°λ„·(IGW, NAT)μ„ κ±°μΉμ§€ μ•κ³  **AWS λ‚΄λ¶€ λ„¤νΈμ›ν¬**λ¥Ό ν†µν•΄ S3μ— μ‚¬μ„¤λ΅ μ ‘μ†ν•κ² ν•©λ‹λ‹¤.
* **λ³΄μ• μ΄μ **: μΈν„°λ„· λ…Έμ¶ μ—†μ΄ ν†µμ‹ ν•λ©°, λ²„ν‚· μ •μ±…μ—μ„ `SourceVpc`λ‚ `SourceVpce` μ΅°κ±΄μ„ μ‚¬μ©ν•μ—¬ λ³΄μ•μ„ κ·Ήλ€ν™”ν•  μ μμµλ‹λ‹¤.

---

## π”’ 6. λ°μ΄ν„° λ³΄μ΅΄ (Object Lock & Vault Lock)

* **WORM λ¨λΈ**: Write Once, Read Many (ν• λ² κΈ°λ΅ν•κ³  μ—¬λ¬ λ² μ½κΈ°).
* **S3 Object Lock**: μ§€μ •λ μ‹κ°„ λ™μ• κ°μ²΄ λ²„μ „ μ‚­μ λ¥Ό μ°¨λ‹¨ν•©λ‹λ‹¤.
* **Glacier Vault Lock**: μ •μ±… μμ²΄λ¥Ό μ κ°€μ„ λ‚μ¤‘μ— νΈμ§‘ν•  μ μ—†κ² λ§λ“­λ‹λ‹¤.
* **ν™μ©**: κΈμµ κ·μ • μ¤€μ, λ°μ΄ν„° λ³΄μ΅΄ μλ¬΄ν™”, κ°μ‚¬ λ€μ‘ λ“±μ— ν•„μμ μ…λ‹λ‹¤.