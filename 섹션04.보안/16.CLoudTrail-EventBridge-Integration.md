## ⚠️ CloudTrail + EventBridge 통합의 핵심 원리

AWS에서 발생하는 모든 관리 활동은 API 호출을 통해 이루어집니다. 이 흐름을 이해하는 것이 중요합니다.

1. **사용자 행동:** 사용자가 AWS 리소스(DynamoDB, IAM, EC2 등)에 특정 조작을 수행합니다.
2. **CloudTrail 로깅:** 모든 API 호출 내역은 CloudTrail에 기록됩니다.
3. **EventBridge 감지:** CloudTrail에 기록된 특정 API 호출이 EventBridge에 이벤트 형태로 전달됩니다.
4. **규칙(Rule) 매칭:** EventBridge에서 특정 API(예: 삭제, 권한 변경)를 필터링하는 규칙을 생성합니다.
5. **타겟(Target) 실행:** 규칙이 일치하면 SNS, Lambda 등 설정된 수신처로 알림을 보내거나 후속 조치를 실행합니다.

---

## 💡 주요 활용 사례 (Use Cases)

강의에서 언급된 구체적인 시나리오들을 표로 정리했습니다.

| 서비스 | 감시할 API 호출 | 목적 | 결과(Action) |
| --- | --- | --- | --- |
| **DynamoDB** | `DeleteTable` | 중요한 데이터 테이블 삭제 감시 | 보안 담당자에게 **SNS 알림** 발송 |
| **IAM** | `AssumeRole` | 특정 역할(Role) 사용 여부 모니터링 | 비정상적인 권한 사용 체크 |
| **EC2 (보안)** | `AuthorizeSecurityGroupIngress` | 보안 그룹의 인바운드 규칙 변경 감시 | 보안 취약점 발생 시 즉각 대응 |

---

## 🛠️ 아키텍처 흐름 요약

1. **이벤트 발생:** `User` -> `API Call (e.g. DeleteTable)` -> `AWS Service`
2. **기록 및 전달:** `AWS CloudTrail`이 API 호출을 캡처하여 `Amazon EventBridge`로 전달
3. **필터링:** `EventBridge Rule`에서 특정 `eventName`이 일치하는지 확인
4. **알림:** 일치할 경우 `Amazon SNS`를 통해 이메일이나 메시지 발송

---

> **💡 핵심 요약**
> CloudTrail은 **"누가 무엇을 했는지"** 기록하는 로그 서비스이고, EventBridge는 그 기록을 바탕으로 **"실시간 자동 대응"**을 가능하게 하는 엔진입니다. 이 둘의 조합은 AWS 환경의 보안과 거버넌스를 유지하는 데 필수적입니다.