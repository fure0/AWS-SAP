## 1. SSL과 TLS의 이해

* **용어 정의:**
  * **SSL (Secure Sockets Layer):** 초기 보안 프로토콜.
  * **TLS (Transport Layer Security):** SSL의 개선된 신버전. 현대에는 대부분 TLS를 사용하지만, 관습적으로 'SSL'이라 통칭하는 경우가 많습니다.


* **발급 및 관리:**
  * 공인 **인증 기관(CA)**(Comodo, Digicert, Letsencrypt 등)에서 발급합니다.
  * 사용자가 **만료일**을 관리해야 하며, 서비스 중단을 막기 위해 만료 전 **갱신**이 필수입니다.



## 2. SSL/TLS 암호화 매커니즘

SSL은 성능 최적화를 위해 **비대칭 암호화**와 **대칭 암호화**를 혼합하여 사용합니다.

### 1) Handshake (비대칭 암호화 단계)

* **비용 이슈:** 비대칭 암호화는 보안성이 높지만 CPU 자원 소모(비용)가 큽니다. 따라서 초기 연결 시에만 사용합니다.
* **과정:**
1. **클라이언트:** 암호 세트(Cipher Suite)와 난수를 서버에 전송.
2. **서버:** 서버 난수와 **SSL 인증서**로 응답.
3. **검증:** 클라이언트는 CA를 통해 인증서 진위 여부를 확인합니다.
4. **키 교환:** 진위가 확인되면 클라이언트가 **마스터 대칭 키**를 생성하여 전송합니다. 서버는 자신의 프라이빗 키로 이를 복호화합니다.


* *참고: 양방향 인증 구성 시, 서버도 클라이언트의 인증서를 확인합니다.*



### 2) 데이터 통신 (대칭 암호화 단계)

* Handshake가 완료되면 양측은 공유된 **대칭 키**만을 사용해 데이터를 주고받습니다. 대칭 암호화는 속도가 빠르고 저렴합니다.

---

## 3. SNI (Server Name Indication) - **시험 중요 포인트**

* **핵심 기능:** 단일 웹 서버(또는 로드 밸런서)에서 **복수의 SSL 인증서**를 로드하여 여러 웹사이트를 운영할 수 있게 합니다.
* **작동 방식:** 클라이언트가 첫 Handshake 때 연결하려는 **호스트 이름(Domain)**을 표시하면, 서버가 그에 맞는 인증서를 찾아 응답합니다.

| 지원 여부 | 서비스 종류 |
| --- | --- |
| **지원 (O)** | **ALB** (Application Load Balancer), **NLB** (Network Load Balancer), **CloudFront** |
| **미지원 (X)** | **CLB** (Classic Load Balancer - 구세대) |

> **주의:** 구세대인 CLB는 SNI를 지원하지 않으므로, 여러 앱을 구동하려면 앱당 별도의 CLB가 필요합니다.

---

## 4. 중간자 공격 (MITM) 방어 전략

### 1) 중간자 공격이란?

사용자와 실제 서버 사이에 공격자(해적 서버)가 끼어들어 패킷을 가로채거나 변조하는 공격입니다. 공격자가 가짜 인증서를 사용자 기기에 신뢰하도록 심는 데 성공하면 암호화된 통신도 무력화될 수 있습니다.

### 2) 방어 방법

* **HTTPS 사용:** 기본적으로 모든 통신을 암호화하여 데이터 노출을 방지합니다.
* **DNSSEC (DNS Security Extensions):**
* **위험성:** DNS 서버가 해킹당하면 사용자를 가짜 서버로 유도할 수 있습니다.
* **해결책:** DNS 응답에 디지털 서명을 추가하여 진위 여부를 검증합니다.
* **AWS 지원:** * **Amazon Route 53:** 2020년 12월부터 도메인 등록 및 DNS 서비스 모두에서 DNSSEC을 지원합니다. (AWS KMS를 사용해 서명 관리)
* **사용자 지정 DNS:** EC2에서 직접 Bind, KnotDNS 등을 실행하여 구성할 수도 있습니다.
