## ☁️ S3 멀티리전 액세스 포인트 (Multi-Region Access Point) 구성 가이드

S3 멀티리전 액세스 포인트는 여러 리전에 분산된 S3 버킷에 대해 단일 엔드포인트를 제공하여, 전 세계 사용자가 가장 가까운 리전의 버킷에 저지연으로 접근할 수 있게 돕는 기능입니다.

### 1. 사전 준비: 버킷 생성

멀티리전 액세스 포인트를 구성하기 위해 먼저 서로 다른 리전에 버킷을 생성합니다.

* **버킷 A:** `my-global-app-stephane-eu-central-1` (유럽 리전)
* **버킷 B:** `my-global-app-stephane-us-east-1` (미국 동부 리전)
* **핵심 규칙:** 멀티리전 액세스 포인트 하나당 **리전별로 단 하나의 버킷**만 추가할 수 있습니다.

### 2. 멀티리전 액세스 포인트 생성

* **이름 설정:** `my-global-app` (모두 소문자 사용)
* **버킷 추가:** 앞서 생성한 두 리전의 버킷을 검색하여 추가합니다.
* **공개 액세스 설정:** 기본적으로 '모든 공개 액세스 차단' 설정이 권장되나, 필요에 따라 활성화할 수 있습니다.
* **생성 시간:** 일반적으로 30분 내외로 생성되지만, 최대 **24시간**까지 소요될 수 있습니다.

### 3. 주요 구성 요소 확인

생성이 완료되면 다음 항목들을 확인할 수 있습니다.

* **ARN (Amazon Resource Name):** 리소스를 식별하는 고유 주소입니다.
* **Alias (별칭):** 애플리케이션에서 S3에 접근할 때 사용할 수 있는 고유한 도메인 주소입니다.
* **권한(Permissions):** 실제 애플리케이션이 액세스할 수 있도록 **액세스 포인트 정책(Access Point Policy)**을 정의해야 합니다.

### 4. 복제(Replication) 및 페일오버 설정

데이터 일관성과 고가용성을 위해 리전 간 데이터 복제 설정이 필수적입니다.

* **복제 규칙 생성:**
  * **템플릿 선택:** '지정된 모든 버킷 간 복제'를 선택하면 모든 리전의 버킷이 서로 데이터를 주고받는 양방향 복제가 설정됩니다.
  * **버저닝(Versioning):** 복제 기능을 활성화하려면 반드시 **버킷 버저닝이 활성화**되어 있어야 합니다. (콘솔에서 즉시 활성화 가능)
  * **범위 설정:** 버킷 내 모든 객체에 대해 규칙을 적용할 수 있습니다.


* **시각화:** 설정을 마치면 관리 콘솔의 '지도(Map)' 뷰를 통해 리전 간 **양방향 복제 상태**를 시각적으로 확인할 수 있습니다.

### 5. 비용 및 삭제

* **생성 비용:** 멀티리전 액세스 포인트를 생성하고 보유하는 것 자체에는 비용이 발생하지 않습니다.
* **사용 요금:** 해당 액세스 포인트를 통해 데이터가 전송될 때, **데이터 처리량(GB당 요금)**을 기준으로 과금됩니다.
